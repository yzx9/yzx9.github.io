import{_ as e,o as l,c as a,a as i}from"./chunks/framework.heUNgYAJ.js";const b=JSON.parse('{"title":"高性能网站建设指南","description":"","frontmatter":{"date":"2019-7-28","updated":"2019-7-28","categories":["Computer Science","Front End"],"tags":["Performance"]},"headers":[{"level":1,"title":"高性能网站建设指南","slug":"高性能网站建设指南","link":"#高性能网站建设指南","children":[{"level":2,"title":"JavaScript","slug":"javascript","link":"#javascript","children":[{"level":3,"title":"精简","slug":"精简","link":"#精简","children":[]},{"level":3,"title":"阻塞","slug":"阻塞","link":"#阻塞","children":[]},{"level":3,"title":"去重","slug":"去重","link":"#去重","children":[]},{"level":3,"title":"使 Ajax 可缓存","slug":"使-ajax-可缓存","link":"#使-ajax-可缓存","children":[]},{"level":3,"title":"外联","slug":"外联","link":"#外联","children":[]}]},{"level":2,"title":"CSS","slug":"css","link":"#css","children":[{"level":3,"title":"放在头部","slug":"放在头部","link":"#放在头部","children":[]},{"level":3,"title":"避免表达式","slug":"避免表达式","link":"#避免表达式","children":[]},{"level":3,"title":"精简","slug":"精简-1","link":"#精简-1","children":[]},{"level":3,"title":"外联","slug":"外联-1","link":"#外联-1","children":[]}]},{"level":2,"title":"HTTP","slug":"http","link":"#http","children":[{"level":3,"title":"Expires 头","slug":"expires-头","link":"#expires-头","children":[]},{"level":3,"title":"配置 ETag","slug":"配置-etag","link":"#配置-etag","children":[]},{"level":3,"title":"gzip","slug":"gzip","link":"#gzip","children":[]},{"level":3,"title":"减少请求","slug":"减少请求","link":"#减少请求","children":[]},{"level":3,"title":"并行请求","slug":"并行请求","link":"#并行请求","children":[]}]},{"level":2,"title":"Other","slug":"other","link":"#other","children":[{"level":3,"title":"CDN","slug":"cdn","link":"#cdn","children":[]},{"level":3,"title":"减少DNS查询","slug":"减少dns查询","link":"#减少dns查询","children":[]},{"level":3,"title":"避免重定向","slug":"避免重定向","link":"#避免重定向","children":[]}]},{"level":2,"title":"追踪流量","slug":"追踪流量","link":"#追踪流量","children":[]},{"level":2,"title":"References","slug":"references","link":"#references","children":[]}]}],"relativePath":"posts/2019/07/28/high-performance-web-sites-essential.md","filePath":"posts/2019/07/28/high-performance-web-sites-essential.md"}'),t={name:"posts/2019/07/28/high-performance-web-sites-essential.md"},r=i('<h1 id="高性能网站建设指南" tabindex="-1">高性能网站建设指南 <a class="header-anchor" href="#高性能网站建设指南" aria-label="Permalink to &quot;高性能网站建设指南&quot;">​</a></h1><h2 id="javascript" tabindex="-1">JavaScript <a class="header-anchor" href="#javascript" aria-label="Permalink to &quot;JavaScript&quot;">​</a></h2><h3 id="精简" tabindex="-1">精简 <a class="header-anchor" href="#精简" aria-label="Permalink to &quot;精简&quot;">​</a></h3><ul><li>精简 (删除空格, 删除换行等)</li><li>混淆 (改变变量名) <ul><li>技术不成熟</li><li>Class 属性不可混淆</li><li>函数内局部变量可混淆</li></ul></li><li>Tree-Sharking <ul><li>Webpack 2 支持</li><li>rollup 原生支持</li></ul></li></ul><h3 id="阻塞" tabindex="-1">阻塞 <a class="header-anchor" href="#阻塞" aria-label="Permalink to &quot;阻塞&quot;">​</a></h3><ul><li><strong>放在底部</strong> 可改变 DOM 树结构</li><li><strong>defer</strong> H4, load 后加载</li><li><strong>async</strong> H5, 下载完加载 &lt;link /&gt; 后紧跟 &lt;script /&gt; 可能阻塞脚本下载</li><li>多个 script 标签可并行下载, 浏览器会模拟线性加载</li></ul><h3 id="去重" tabindex="-1">去重 <a class="header-anchor" href="#去重" aria-label="Permalink to &quot;去重&quot;">​</a></h3><ul><li>定义全局变量</li></ul><h3 id="使-ajax-可缓存" tabindex="-1">使 Ajax 可缓存 <a class="header-anchor" href="#使-ajax-可缓存" aria-label="Permalink to &quot;使 Ajax 可缓存&quot;">​</a></h3><h3 id="外联" tabindex="-1">外联 <a class="header-anchor" href="#外联" aria-label="Permalink to &quot;外联&quot;">​</a></h3><ul><li>可缓存</li><li>加载必须脚本, 动态加载剩余脚本</li></ul><h2 id="css" tabindex="-1">CSS <a class="header-anchor" href="#css" aria-label="Permalink to &quot;CSS&quot;">​</a></h2><h3 id="放在头部" tabindex="-1">放在头部 <a class="header-anchor" href="#放在头部" aria-label="Permalink to &quot;放在头部&quot;">​</a></h3><ul><li>白屏</li><li>FOUC（无样式内容的闪烁）</li><li>流式渲染</li></ul><h3 id="避免表达式" tabindex="-1">避免表达式 <a class="header-anchor" href="#避免表达式" aria-label="Permalink to &quot;避免表达式&quot;">​</a></h3><p>CSS还有表达式？？？</p><h3 id="精简-1" tabindex="-1">精简 <a class="header-anchor" href="#精简-1" aria-label="Permalink to &quot;精简&quot;">​</a></h3><ul><li>0px -&gt; 0</li><li>#660066 -&gt; #606</li><li>合并相同类，去除无用类 <a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin" target="_blank" rel="noreferrer">optimize-css-assets-webpack-plugin</a></li></ul><h3 id="外联-1" tabindex="-1">外联 <a class="header-anchor" href="#外联-1" aria-label="Permalink to &quot;外联&quot;">​</a></h3><p>内联更快, 但外联可重用/缓存,且可以预下载</p><h2 id="http" tabindex="-1">HTTP <a class="header-anchor" href="#http" aria-label="Permalink to &quot;HTTP&quot;">​</a></h2><h3 id="expires-头" tabindex="-1">Expires 头 <a class="header-anchor" href="#expires-头" aria-label="Permalink to &quot;Expires 头&quot;">​</a></h3><p>设长期，通过全量更新弃用</p><h3 id="配置-etag" tabindex="-1">配置 ETag <a class="header-anchor" href="#配置-etag" aria-label="Permalink to &quot;配置 ETag&quot;">​</a></h3><p>或者删除</p><h3 id="gzip" tabindex="-1">gzip <a class="header-anchor" href="#gzip" aria-label="Permalink to &quot;gzip&quot;">​</a></h3><blockquote><p>IE 5.5 不支持？？？</p></blockquote><h3 id="减少请求" tabindex="-1">减少请求 <a class="header-anchor" href="#减少请求" aria-label="Permalink to &quot;减少请求&quot;">​</a></h3><ul><li>CSS Sprites</li><li>合并脚本和样式表</li></ul><h3 id="并行请求" tabindex="-1">并行请求 <a class="header-anchor" href="#并行请求" aria-label="Permalink to &quot;并行请求&quot;">​</a></h3><ul><li><p>JS阻塞</p></li><li><p>HTTP1.1 为每个主机名 2个并行</p><p>主动降级为HTTP1.0能获取4个并行数, 但失去了持久连接Keep-Alive并不一定划算</p></li><li><p>使用DNS的CNAME将组件配置到多个主机名上</p><p>推荐为 2个</p></li></ul><h2 id="other" tabindex="-1">Other <a class="header-anchor" href="#other" aria-label="Permalink to &quot;Other&quot;">​</a></h2><h3 id="cdn" tabindex="-1">CDN <a class="header-anchor" href="#cdn" aria-label="Permalink to &quot;CDN&quot;">​</a></h3><p>个人网站用也许更慢</p><h3 id="减少dns查询" tabindex="-1">减少DNS查询 <a class="header-anchor" href="#减少dns查询" aria-label="Permalink to &quot;减少DNS查询&quot;">​</a></h3><ul><li>配置TTL</li><li>配置Keep-Alive</li></ul><h3 id="避免重定向" tabindex="-1">避免重定向 <a class="header-anchor" href="#避免重定向" aria-label="Permalink to &quot;避免重定向&quot;">​</a></h3><p>避免无意识的重定向</p><p>比如 URL 从 <a href="http://iyzx.xin" target="_blank" rel="noreferrer">http://iyzx.xin</a> =&gt; <a href="http://iyzx.xin/" target="_blank" rel="noreferrer">http://iyzx.xin/</a></p><p><code>a href</code></p><p>设置为 # 会导致跳至顶端</p><p>e.preventDefault()</p><p>javascript:; &lt;=&gt; javascript:void(0);</p><h2 id="追踪流量" tabindex="-1">追踪流量 <a class="header-anchor" href="#追踪流量" aria-label="Permalink to &quot;追踪流量&quot;">​</a></h2><ul><li>内部流量</li></ul><p>referer</p><ul><li><p>出战流量</p><ul><li>重定向包装</li><li>信标: 监听点击事件</li></ul></li></ul><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><ul><li>Steve Souders. High Performance Web Sites: Essential Knowledge for Front-End Engineers. 电子工业出版社</li></ul>',49),n=[r];function h(s,o,c,d,u,p){return l(),a("div",null,n)}const k=e(t,[["render",h]]);export{b as __pageData,k as default};
