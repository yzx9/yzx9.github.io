import{g as l,h as a,k as t,l as Q,j as T,o as e}from"./chunks/framework.BOQ8FqoK.js";const s="/assets/photograph.C2-mcJez.png",o="/assets/rolling-shutter-featured-image.BbL84QGA.jpg",n="/assets/circle-of-confusion.QK8TtGCC.png",r="/assets/ray-tracing-for-defocus-blur.-0dryuDa.png",i="/assets/depth-of-field.BMIJYvQe.png",d="/assets/plenptic-function.BclYALUx.png",m="/assets/light-field-uvst.DQPis07o.png",h="/assets/light-field-camera.C8p59GN5.png",p="/assets/sml-cell.CZ8L8f-n.jpg",c="/assets/color-space.CRiUX4Qp.jpg",g="/assets/relative-color.B-z7mpga.png",S3=JSON.parse('{"title":"GAMES101: Light Transport","description":"","frontmatter":{"title":"GAMES101: Light Transport","author":"Celeste","location":"Shanghai University, Shanghai, China","date":"2021-12-16T00:00:00.000Z","updated":"2022-03-24T00:00:00.000Z","tags":["CG","GAMES"],"categories":["Computer Science","Computer Graphics"]},"headers":[{"level":2,"title":"GAMES101","slug":"games101","link":"#games101","children":[]},{"level":1,"title":"Light Transport","slug":"light-transport","link":"#light-transport","children":[{"level":2,"title":"Cameras","slug":"cameras","link":"#cameras","children":[{"level":3,"title":"Filed of View (FoV)","slug":"filed-of-view-fov","link":"#filed-of-view-fov","children":[]},{"level":3,"title":"Exposure","slug":"exposure","link":"#exposure","children":[]},{"level":3,"title":"Lenses","slug":"lenses","link":"#lenses","children":[]},{"level":3,"title":"Ray Tracing for Defocus Blur (Thin Lens)","slug":"ray-tracing-for-defocus-blur-thin-lens","link":"#ray-tracing-for-defocus-blur-thin-lens","children":[]}]},{"level":2,"title":"Light Fields","slug":"light-fields","link":"#light-fields","children":[]},{"level":2,"title":"Physical Basis of Color","slug":"physical-basis-of-color","link":"#physical-basis-of-color","children":[]},{"level":2,"title":"References","slug":"references","link":"#references","children":[]}]}],"relativePath":"posts/2021/12/16/games101-light-transport.md","filePath":"posts/2021/12/16/games101-light-transport.md"}'),u={name:"posts/2021/12/16/games101-light-transport.md"},x=T("",8),w={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},_={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.148ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.427ex",height:"5.428ex",role:"img",focusable:"false",viewBox:"0 -1449.5 9912.9 2399","aria-hidden":"true"},f=T("",1),H=[f],L=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"F"),t("mi",{mathvariant:"normal"},"O"),t("mi",{mathvariant:"normal"},"V")]),t("mo",null,"="),t("mn",null,"2"),t("mi",null,"arctan"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mfrac",null,[t("mi",{mathvariant:"normal"},"h"),t("mrow",null,[t("mn",null,"2"),t("mi",{mathvariant:"normal"},"f")])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1),k={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.303ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 576 705","aria-hidden":"true"},M=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"210E",d:"M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z",style:{"stroke-width":"3"}})])])],-1),b=[M],v=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"h")])],-1),V={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.244ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 550 910","aria-hidden":"true"},C=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D453",d:"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z",style:{"stroke-width":"3"}})])])],-1),D=[C],S=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f")])],-1),j=t("h3",{id:"exposure",tabindex:"-1"},[Q("Exposure "),t("a",{class:"header-anchor",href:"#exposure","aria-label":'Permalink to "Exposure"'},"​")],-1),A=t("p",null,"曝光（Exposure），曝光由曝光时间和曝光度决定：",-1),P={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.808ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 14059 888","aria-hidden":"true"},E=T("",1),B=[E],N=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"E"),t("mi",null,"x"),t("mi",null,"p"),t("mi",null,"o"),t("mi",null,"s"),t("mi",null,"u"),t("mi",null,"r"),t("mi",null,"e"),t("mo",null,"="),t("mi",null,"T"),t("mi",null,"i"),t("mi",null,"m"),t("mi",null,"e"),t("mo",null,"×"),t("mi",null,"I"),t("mi",null,"r"),t("mi",null,"r"),t("mi",null,"a"),t("mi",null,"d"),t("mi",null,"i"),t("mi",null,"a"),t("mi",null,"n"),t("mi",null,"c"),t("mi",null,"e")])],-1),G=T("",14),R={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.016ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.821ex",height:"5.052ex",role:"img",focusable:"false",viewBox:"0 -1342 6108.9 2233","aria-hidden":"true"},F=T("",1),q=[F],J=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mfrac",null,[t("mn",null,"1"),t("mi",null,"f")]),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])]),t("mo",null,"+"),t("mfrac",null,[t("mn",null,"1"),t("msub",null,[t("mi",null,"z"),t("mi",null,"o")])])])],-1),O={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},X={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.244ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 550 910","aria-hidden":"true"},U=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D453",d:"M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z",style:{"stroke-width":"3"}})])])],-1),Y=[U],$=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f")])],-1),K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},W={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.792ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 792 599.8","aria-hidden":"true"},t1=T("",1),Q1=[t1],a1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])])],-1),e1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.016ex",height:"1.357ex",role:"img",focusable:"false",viewBox:"0 -442 890.9 599.8","aria-hidden":"true"},l1=T("",1),s1=[l1],o1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"z"),t("mi",null,"o")])])],-1),n1=t("h4",{id:"circle-of-confusion",tabindex:"-1"},[Q("Circle of Confusion "),t("a",{class:"header-anchor",href:"#circle-of-confusion","aria-label":'Permalink to "Circle of Confusion"'},"​")],-1),r1=t("p",null,"Circle of Confusion（CoC）指的是在焦平面外的物体经过透镜在相距上成像，但是传感器距离大于物距，因此物体在传感器处由一个点散成了一个圆形，如下图所示。",-1),i1=t("p",null,[t("img",{src:n,alt:"CoC"})],-1),d1=t("p",null,"不难发现，越远的物体相距越小，也就是形成了一个更大的圆，也就是我们所说的景深效果。通过几何关系，我们可以找出计算 CoC 大小：",-1),m1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},h1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.984ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.577ex",height:"11.099ex",role:"img",focusable:"false",viewBox:"0 -2702.8 15725.2 4905.6","aria-hidden":"true"},p1=T("",1),c1=[p1],g1=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left right left",columnspacing:"0em 2em 0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mfrac",null,[t("mi",null,"C"),t("mi",null,"A")])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mfrac",null,[t("msup",null,[t("mi",null,"d"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])])]),t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mo",{"data-mjx-texclass":"OPEN",fence:"false",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"z"),t("mi",null,"s")]),t("mo",null,"−"),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"false",stretchy:"false"},"|")]),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])])])]),t("mtr",null,[t("mtd",null,[t("mi",null,"C")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"A"),t("mfrac",null,[t("mrow",null,[t("mo",{"data-mjx-texclass":"OPEN",fence:"false",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"z"),t("mi",null,"s")]),t("mo",null,"−"),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"false",stretchy:"false"},"|")]),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])])]),t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mfrac",null,[t("mi",null,"f"),t("mi",null,"N")]),t("mfrac",null,[t("mrow",null,[t("mo",{"data-mjx-texclass":"OPEN",fence:"false",stretchy:"false"},"|"),t("msub",null,[t("mi",null,"z"),t("mi",null,"s")]),t("mo",null,"−"),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")]),t("mo",{"data-mjx-texclass":"CLOSE",fence:"false",stretchy:"false"},"|")]),t("msub",null,[t("mi",null,"z"),t("mi",null,"i")])])])])])])],-1),u1=t("h3",{id:"ray-tracing-for-defocus-blur-thin-lens",tabindex:"-1"},[Q("Ray Tracing for Defocus Blur (Thin Lens) "),t("a",{class:"header-anchor",href:"#ray-tracing-for-defocus-blur-thin-lens","aria-label":'Permalink to "Ray Tracing for Defocus Blur (Thin Lens)"'},"​")],-1),x1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.362ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 1043.9 770","aria-hidden":"true"},_1=T("",1),f1=[_1],H1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"″")])])],-1),L1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},k1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"3.551ex",height:"1.717ex",role:"img",focusable:"false",viewBox:"0 -759 1569.6 759","aria-hidden":"true"},y1=T("",1),M1=[y1],b1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"X"),t("mo",{"data-mjx-alternate":"1"},"‴")])])],-1),v1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.922ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 849.5 770","aria-hidden":"true"},Z1=T("",1),C1=[Z1],D1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"′")])])],-1),S1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},j1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.362ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 1043.9 770","aria-hidden":"true"},A1=T("",1),P1=[A1],I1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"″")])])],-1),E1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.362ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 1043.9 770","aria-hidden":"true"},N1=T("",1),G1=[N1],R1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"″")])])],-1),z1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},F1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.802ex",height:"1.742ex",role:"img",focusable:"false",viewBox:"0 -759 1238.4 770","aria-hidden":"true"},q1=T("",1),J1=[q1],O1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"‴")])])],-1),X1=t("p",null,[t("img",{src:r,alt:"Ray Tracing for Defocus Blur"})],-1),U1=t("p",null,"在实际使用中，我们认为一段距离内的物体成像都可以认为是清晰的，这段深度就是景深（Depth of field），其关系可以通过下图所示各参数计算：",-1),Y1=t("p",null,[t("img",{src:i,alt:"Depth of Field"})],-1),$1=t("h2",{id:"light-fields",tabindex:"-1"},[Q("Light Fields "),t("a",{class:"header-anchor",href:"#light-fields","aria-label":'Permalink to "Light Fields"'},"​")],-1),K1=t("p",null,"介绍光场前，我们先定义一个七维的全光函数（The Plenoptic Function）来描述世界：",-1),W1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"22.301ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 9857.2 1000","aria-hidden":"true"},Q3=T("",1),a3=[Q3],e3=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"P"),t("mo",{stretchy:"false"},"("),t("mi",null,"θ"),t("mo",null,","),t("mi",null,"ϕ"),t("mo",null,","),t("mi",null,"λ"),t("mo",null,","),t("mi",null,"t"),t("mo",null,","),t("msub",null,[t("mi",null,"V"),t("mi",null,"X")]),t("mo",null,","),t("msub",null,[t("mi",null,"V"),t("mi",null,"Y")]),t("mo",null,","),t("msub",null,[t("mi",null,"V"),t("mi",null,"Z")]),t("mo",{stretchy:"false"},")")])],-1),T3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},l3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.464ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.416ex",height:"2.059ex",role:"img",focusable:"false",viewBox:"0 -705 1509.7 910","aria-hidden":"true"},s3=T("",1),o3=[s3],n3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ"),t("mo",null,","),t("mi",null,"ϕ")])],-1),r3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.027ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.319ex",height:"1.597ex",role:"img",focusable:"false",viewBox:"0 -694 583 706","aria-hidden":"true"},d3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D706",d:"M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z",style:{"stroke-width":"3"}})])])],-1),m3=[d3],h3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"λ")])],-1),p3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},g3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1),u3=[g3],x3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1),w3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},_3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"10.273ex",height:"1.984ex",role:"img",focusable:"false",viewBox:"0 -683 4540.5 877","aria-hidden":"true"},f3=T("",1),H3=[f3],L3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"V"),t("mi",null,"X")]),t("mo",null,","),t("msub",null,[t("mi",null,"V"),t("mi",null,"Y")]),t("mo",null,","),t("msub",null,[t("mi",null,"V"),t("mi",null,"Z")])])],-1),k3=T("",17);function y3(M3,b3,v3,V3,Z3,C3){return e(),a("div",null,[x,t("mjx-container",w,[(e(),a("svg",_,H)),L]),t("p",null,[Q("其中，"),t("mjx-container",k,[(e(),a("svg",y,b)),v]),Q(" 指的是传感器高度，"),t("mjx-container",V,[(e(),a("svg",Z,D)),S]),Q(" 指的是焦距。为了统一，人们通常使用 35mm-format （36*24mm）大小的传感器来计算 FOV。")]),j,A,t("mjx-container",P,[(e(),a("svg",I,B)),N]),G,t("mjx-container",R,[(e(),a("svg",z,q)),J]),t("p",null,[Q("其中，"),t("mjx-container",O,[(e(),a("svg",X,Y)),$]),Q(" 为焦距，"),t("mjx-container",K,[(e(),a("svg",W,Q1)),a1]),Q(" 为相距，"),t("mjx-container",e1,[(e(),a("svg",T1,s1)),o1]),Q(" 为物距。现代相机通常使用镜片组，目的是可以通过不同组合调整镜片组的焦距。")]),n1,r1,i1,d1,t("mjx-container",m1,[(e(),a("svg",h1,c1)),g1]),u1,t("p",null,[Q("理解棱镜上光线的传播方式后，我们就可以利用透镜公式来实现带有景深效果的光线追踪效果。首先我们需要定义传感器尺寸、透镜尺寸（我们假设是一个薄透镜），因此我们可以利用透镜公式找到点 "),t("mjx-container",x1,[(e(),a("svg",w1,f1)),H1]),Q(" 在焦平面上对应的点 "),t("mjx-container",L1,[(e(),a("svg",k1,M1)),b1]),Q("，那么从 "),t("mjx-container",v1,[(e(),a("svg",V1,C1)),D1]),Q(" 发射向 "),t("mjx-container",S1,[(e(),a("svg",j1,P1)),I1]),Q(" 的光经过薄透镜折射后就是 "),t("mjx-container",E1,[(e(),a("svg",B1,G1)),R1]),Q(" 发射向 "),t("mjx-container",z1,[(e(),a("svg",F1,J1)),O1]),Q(" 的光，我们利用这个光线做成像，得到的就是带有深度信息的光线追踪效果。")]),X1,U1,Y1,$1,K1,t("mjx-container",W1,[(e(),a("svg",t3,a3)),e3]),t("p",null,[Q("函数中前两个参数 "),t("mjx-container",T3,[(e(),a("svg",l3,o3)),n3]),Q(" 描述观测方向（球面坐标系），第三个参数 "),t("mjx-container",r3,[(e(),a("svg",i3,m3)),h3]),Q(" 描述波长（颜色），第四个参数 "),t("mjx-container",p3,[(e(),a("svg",c3,u3)),x3]),Q(" 描述时间，最后三个参数为观测位置 "),t("mjx-container",w3,[(e(),a("svg",_3,H3)),L3]),Q("。实际上前四个参数就描述了一部电影，后三个参数允许我们改变观测位置，这个七维的函数实际上描述了整个世界在视觉上的观测结果。全光函数的示意图如下。")]),k3])}const j3=l(u,[["render",y3]]);export{S3 as __pageData,j3 as default};
