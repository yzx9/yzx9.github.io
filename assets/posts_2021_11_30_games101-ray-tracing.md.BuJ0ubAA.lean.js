import{g as s,h as a,k as t,l as Q,j as e,o as T}from"./chunks/framework.BOQ8FqoK.js";const l="/assets/basic-ray-tracing.fTECU0HR.png",n="/assets/whitted-style-ray-tracing.DbV39pn9.png",m="/assets/spatial-partitions.DdbkHsme.png",d="/assets/bvh.Gg_QxJnC.png",o="/assets/solid-angle.D84QvHeq.png",r="/assets/radiance.Dz2TpkcQ.png",i="/assets/path-tracing-cornell-box-comparison.DE2e_K6h.png",h="/assets/path-tracing-dirct-lighting.BOBeKSl6.png",p="/assets/vcm.C5dHjtjb.png",r6=JSON.parse('{"title":"GAMES101: Ray Tracing","description":"","frontmatter":{"title":"GAMES101: Ray Tracing","author":"Celeste","location":"Shanghai University, Shanghai, China","date":"2021-11-30T00:00:00.000Z","updated":"2021-12-14T00:00:00.000Z","tags":["CG","GAMES"],"categories":["Computer Science","Computer Graphics"]},"headers":[{"level":2,"title":"GAMES101","slug":"games101","link":"#games101","children":[]},{"level":1,"title":"Ray Tracing（光线追踪）","slug":"ray-tracing-光线追踪","link":"#ray-tracing-光线追踪","children":[{"level":2,"title":"Whitted-Style Ray Tracing","slug":"whitted-style-ray-tracing","link":"#whitted-style-ray-tracing","children":[{"level":3,"title":"Ray-Surface Intersection","slug":"ray-surface-intersection","link":"#ray-surface-intersection","children":[]},{"level":3,"title":"Acceleration","slug":"acceleration","link":"#acceleration","children":[]}]},{"level":2,"title":"Basic Radiometry（辐射度量学）","slug":"basic-radiometry-辐射度量学","link":"#basic-radiometry-辐射度量学","children":[{"level":3,"title":"名词解释","slug":"名词解释","link":"#名词解释","children":[]},{"level":3,"title":"Light Transport","slug":"light-transport","link":"#light-transport","children":[]}]},{"level":2,"title":"Global Illumination","slug":"global-illumination","link":"#global-illumination","children":[{"level":3,"title":"Path Tracing","slug":"path-tracing","link":"#path-tracing","children":[]},{"level":3,"title":"Russian Roulette","slug":"russian-roulette","link":"#russian-roulette","children":[]},{"level":3,"title":"Sampling the light","slug":"sampling-the-light","link":"#sampling-the-light","children":[]},{"level":3,"title":"And More","slug":"and-more","link":"#and-more","children":[]}]},{"level":2,"title":"Advanced Light Transport（高级光线传播）","slug":"advanced-light-transport-高级光线传播","link":"#advanced-light-transport-高级光线传播","children":[{"level":3,"title":"Bidirectional Path Tracing (BDPT)","slug":"bidirectional-path-tracing-bdpt","link":"#bidirectional-path-tracing-bdpt","children":[]},{"level":3,"title":"Metropolis Light Transport (MLT)","slug":"metropolis-light-transport-mlt","link":"#metropolis-light-transport-mlt","children":[]},{"level":3,"title":"Photon Mapping","slug":"photon-mapping","link":"#photon-mapping","children":[]},{"level":3,"title":"Vertex Connection and Merging (VCM)","slug":"vertex-connection-and-merging-vcm","link":"#vertex-connection-and-merging-vcm","children":[]},{"level":3,"title":"Instant Radiosity (IR)","slug":"instant-radiosity-ir","link":"#instant-radiosity-ir","children":[]}]}]}],"relativePath":"posts/2021/11/30/games101-ray-tracing.md","filePath":"posts/2021/11/30/games101-ray-tracing.md"}'),g={name:"posts/2021/11/30/games101-ray-tracing.md"},c=e("",16),H={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},u={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.471ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 5512 1347","aria-hidden":"true"},k=e("",1),w=[k],y=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mi",null,"t"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"o"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"+"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"d"),t("mo",{stretchy:"false"},"→")])])])],-1),x={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.937ex",role:"img",focusable:"false",viewBox:"0 -845 485 856","aria-hidden":"true"},f=e("",1),V=[f],M=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"o"),t("mo",{stretchy:"false"},"→")])])])],-1),_={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.176ex",height:"2.505ex",role:"img",focusable:"false",viewBox:"0 -1097 520 1107","aria-hidden":"true"},b=e("",1),D=[b],v=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"d"),t("mo",{stretchy:"false"},"→")])])])],-1),E={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.291ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3664.6 1000","aria-hidden":"true"},j=e("",1),C=[j],R=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mn",null,"0")])],-1),F={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"19.945ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 8815.6 1347","aria-hidden":"true"},B=e("",1),O=[B],P=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mi",null,"r"),t("mo",{stretchy:"false"},"("),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"o"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"+"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"d"),t("mo",{stretchy:"false"},"→")])]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mn",null,"0")])],-1),I={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},N={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.817ex",height:"1.441ex",role:"img",focusable:"false",viewBox:"0 -626 361 637","aria-hidden":"true"},X=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D461",d:"M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z",style:{"stroke-width":"3"}})])])],-1),G=[X],q=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t")])],-1),z=e("",5),J={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},K={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"37.038ex",height:"3.048ex",role:"img",focusable:"false",viewBox:"0 -1097 16370.7 1347","aria-hidden":"true"},W=e("",1),U=[W],$=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"o"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"+"),t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"d"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mn",null,"1"),t("mo",null,"−"),t("msub",null,[t("mi",null,"b"),t("mn",null,"1")]),t("mo",null,"−"),t("msub",null,[t("mi",null,"b"),t("mn",null,"2")]),t("mo",{stretchy:"false"},")"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"0")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mn",null,"1")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"1")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mn",null,"2")]),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"p"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"2")])])],-1),Y=t("p",null,"求解得到：",-1),t1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-4.948ex"},xmlns:"http://www.w3.org/2000/svg",width:"27.222ex",height:"11.027ex",role:"img",focusable:"false",viewBox:"0 -2687 12032.2 4874","aria-hidden":"true"},a1=e("",1),T1=[a1],e1=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mtable",{columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("mi",null,"t")])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"b"),t("mn",null,"1")])])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"b"),t("mn",null,"2")])])])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")]),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("mrow",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"1")]),t("mo",null,"⋅"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"E"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"1")])])]),t("mrow",{"data-mjx-texclass":"INNER"},[t("mo",{"data-mjx-texclass":"OPEN"},"("),t("mtable",{columnspacing:"1em",rowspacing:"4pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"2")]),t("mo",null,"⋅"),t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"E"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"2")])])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"1")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])])])]),t("mtr",null,[t("mtd",null,[t("msub",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])]),t("mn",null,"2")]),t("mo",null,"⋅"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"D"),t("mo",{stretchy:"false"},"→")])])])])]),t("mo",{"data-mjx-texclass":"CLOSE"},")")])])],-1),s1=t("p",null,"where：",-1),l1={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-8.423ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.32ex",height:"17.977ex",role:"img",focusable:"false",viewBox:"0 -4223 5887.7 7946","aria-hidden":"true"},m1=e("",1),d1=[m1],o1=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"E"),t("mn",null,"1")]),t("mo",{stretchy:"false"},"→")])])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"P"),t("mn",null,"1")]),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"−"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"P"),t("mn",null,"0")]),t("mo",{stretchy:"false"},"→")])])])]),t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"E"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"→")])])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"P"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"−"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"P"),t("mn",null,"0")]),t("mo",{stretchy:"false"},"→")])])])]),t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"O"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"−"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"P"),t("mn",null,"0")]),t("mo",{stretchy:"false"},"→")])])])]),t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"S"),t("mn",null,"1")]),t("mo",{stretchy:"false"},"→")])])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"D"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"E"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"→")])])])]),t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"S"),t("mn",null,"2")]),t("mo",{stretchy:"false"},"→")])])]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("mi",null,"S"),t("mo",{stretchy:"false"},"→")])]),t("mo",null,"×"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mover",null,[t("msub",null,[t("mi",null,"E"),t("mn",null,"1")]),t("mo",{stretchy:"false"},"→")])])])])])])],-1),r1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},i1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.923ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 2175.8 888","aria-hidden":"true"},h1=e("",1),p1=[h1],g1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"b"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"b"),t("mn",null,"2")])])],-1),c1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},H1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"31.027ex",height:"2.009ex",role:"img",focusable:"false",viewBox:"0 -694 13713.9 888","aria-hidden":"true"},u1=e("",1),k1=[u1],w1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"t"),t("mo",null,">"),t("mn",null,"0"),t("mo",null,","),t("msub",null,[t("mi",null,"b"),t("mn",null,"1")]),t("mo",null,">"),t("mn",null,"0"),t("mo",null,","),t("msub",null,[t("mi",null,"b"),t("mn",null,"2")]),t("mo",null,">"),t("mn",null,"0"),t("mo",null,","),t("msub",null,[t("mi",null,"b"),t("mn",null,"1")]),t("mo",null,"+"),t("msub",null,[t("mi",null,"b"),t("mn",null,"2")]),t("mo",null,"<"),t("mn",null,"1")])],-1),y1=t("h3",{id:"acceleration",tabindex:"-1"},[Q("Acceleration "),t("a",{class:"header-anchor",href:"#acceleration","aria-label":'Permalink to "Acceleration"'},"​")],-1),x1=t("p",null,[Q("实际应用中，在大场景中根本不可能逐三角形判断，人们希望通过预处理建立一些加速结构来加速求交过程。我们通常使用一个包围盒先将物体包裹，如果一根光线连包围盒都无法碰到，自然无法碰到物体。我们通常使用一个 "),t("strong",null,"Axis-Aligned Bounding Box"),Q("（AABB，轴对齐包围盒）。")],-1),L1=t("p",null,"AABB 可以被视为三对轴对齐的平面，使用轴对齐是为了简化运算。只有当光线进入三对面后，才进入 AABB 内；当光线离开任何一对面后，光线就离开了 AABB；如果进入时间小于 0，说明光源在 AABB 内。",-1),f1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.921ex",height:"1.773ex",role:"img",focusable:"false",viewBox:"0 -626 1733.1 783.8","aria-hidden":"true"},M1=e("",1),_1=[M1],Z1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"m"),t("mi",null,"i"),t("mi",null,"n")])])])],-1),b1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.171ex",height:"1.773ex",role:"img",focusable:"false",viewBox:"0 -626 1843.4 783.8","aria-hidden":"true"},v1=e("",1),E1=[v1],A1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"x")])])])],-1),j1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},C1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"35.183ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 15550.9 1000","aria-hidden":"true"},R1=e("",1),F1=[R1],S1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"n"),t("mi",null,"t"),t("mi",null,"e"),t("mi",null,"r")])]),t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"m"),t("mi",null,"i"),t("mi",null,"n")])]),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"x"),t("mi",null,"i"),t("mi",null,"t")])]),t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"m"),t("mi",null,"a"),t("mi",null,"x")])]),t("mo",{stretchy:"false"},")")])],-1),B1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},O1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.566ex",height:"1.773ex",role:"img",focusable:"false",viewBox:"0 -626 5112.2 783.8","aria-hidden":"true"},P1=e("",1),I1=[P1],N1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"n"),t("mi",null,"t"),t("mi",null,"e"),t("mi",null,"r")])]),t("mo",null,"<"),t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"x"),t("mi",null,"i"),t("mi",null,"t")])])])],-1),X1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G1={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"9.703ex",height:"1.864ex",role:"img",focusable:"false",viewBox:"0 -666 4288.7 823.8","aria-hidden":"true"},q1=e("",1),z1=[q1],J1=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"t"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"e"),t("mi",null,"x"),t("mi",null,"i"),t("mi",null,"t")])]),t("mo",null,">="),t("mn",null,"0")])],-1),K1=t("p",null,"我们可以从通过 Spatial Partitions 或 Object Partitions 建立一个场景中的 AABB。",-1),W1=t("h4",{id:"spatial-partitions",tabindex:"-1"},[Q("Spatial Partitions "),t("a",{class:"header-anchor",href:"#spatial-partitions","aria-label":'Permalink to "Spatial Partitions"'},"​")],-1),U1=t("p",null,"一个朴素的思想是将场景均匀切分为一些小盒子，然后标记出其中有物体的盒子。对场景进行均匀的盒子分割效果并不理想，在空间中物体中分布不均匀情况下，均匀分隔带来了许多全空的盒子。Oct-Tree、KD-Tree 和 BSP-Tree 是改进后的加速结构。",-1),$1=t("strong",null,"Oct-Tree",-1),Y1={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},t3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.357ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 600 453","aria-hidden":"true"},Q3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45B",d:"M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z",style:{"stroke-width":"3"}})])])],-1),a3=[Q3],T3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"n")])],-1),e3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},s3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.279ex",height:"1.528ex",role:"img",focusable:"false",viewBox:"0 -675.5 1007.3 675.5","aria-hidden":"true"},l3=e("",1),n3=[l3],m3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msup",null,[t("mn",null,"2"),t("mi",null,"n")])])],-1),d3=t("strong",null,"KD-Tree",-1),o3=t("strong",null,"BSP-Tree",-1),r3=e("",8),i3=t("li",null,"为方便存储，每次划分时我们可以只选择一个轴划分；",-1),h3=t("li",null,"选择最长的轴，得到的 AABB 可能趋于正方形；",-1),p3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},g3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.844ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 2141 1000","aria-hidden":"true"},c3=e("",1),H3=[c3],u3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"O"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",{stretchy:"false"},")")])],-1),k3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},w3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.179ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -694 521 705","aria-hidden":"true"},y3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D458",d:"M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z",style:{"stroke-width":"3"}})])])],-1),x3=[y3],L3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"k")])],-1),f3=t("li",null,"和 KD-Tree 一样，BVH 中物体只存储在叶子节点中",-1),V3=t("h2",{id:"basic-radiometry-辐射度量学",tabindex:"-1"},[Q("Basic Radiometry（辐射度量学） "),t("a",{class:"header-anchor",href:"#basic-radiometry-辐射度量学","aria-label":'Permalink to "Basic Radiometry（辐射度量学）"'},"​")],-1),M3=t("p",null,"Whitted 风格光线追踪中，我们使用了一些不正确的物理量，例如光源的强度、物体的反射、折射及能量损失等等，并且有一些错误的假设：",-1),_3=t("ol",null,[t("li",null,"物体是镜面反射，但是对于一些 Glossy 的表面，反射效果并不是一条光线（个人理解：几何面不够精细导致与物理表现不相同）；"),t("li",null,"不考虑漫反射；")],-1),Z3=t("p",null,"在假设和简化下，Whitted-style RT 的结果并不真实，辐射度量学就是为了解决这些问题，使得渲染结果更加真实。辐射度量学中依然假设光线沿直线传播，而不具备波动性。",-1),b3=t("li",null,"Energy：物理上通常使用焦耳；",-1),D3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},v3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.798ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.743ex",height:"3.004ex",role:"img",focusable:"false",viewBox:"0 -975 3422.6 1327.8","aria-hidden":"true"},E3=e("",1),A3=[E3],j3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",{mathvariant:"normal"},"Φ"),t("mo",null,"≡"),t("mfrac",null,[t("mrow",null,[t("mi",null,"d"),t("mi",null,"Q")]),t("mrow",null,[t("mi",null,"d"),t("mi",null,"t")])])])],-1),C3=t("ul",null,[t("li",null,"本文中能量一词指的都是 Power，而非 Energy。")],-1),R3=t("h3",{id:"名词解释",tabindex:"-1"},[Q("名词解释 "),t("a",{class:"header-anchor",href:"#名词解释","aria-label":'Permalink to "名词解释"'},"​")],-1),F3=t("h4",{id:"solid-angle",tabindex:"-1"},[Q("Solid Angle "),t("a",{class:"header-anchor",href:"#solid-angle","aria-label":'Permalink to "Solid Angle"'},"​")],-1),S3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},B3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.407ex",height:"1.027ex",role:"img",focusable:"false",viewBox:"0 -443 622 454","aria-hidden":"true"},O3=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D714",d:"M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z",style:{"stroke-width":"3"}})])])],-1),P3=[O3],I3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"ω")])],-1),N3=t("p",null,[t("img",{src:o,alt:"Solid angle"})],-1),X3={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"7.202ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3183.3 1000","aria-hidden":"true"},q3=e("",1),z3=[q3],J3=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{stretchy:"false"},"("),t("mi",null,"r"),t("mo",null,","),t("mi",null,"ϕ"),t("mo",null,","),t("mi",null,"θ"),t("mo",{stretchy:"false"},")")])],-1),K3={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},W3={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.188ex"},xmlns:"http://www.w3.org/2000/svg",width:"20.918ex",height:"5.507ex",role:"img",focusable:"false",viewBox:"0 -1467 9245.9 2433.9","aria-hidden":"true"},U3=e("",1),$3=[U3],Y3=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"A")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mi",null,"r"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"θ"),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"r"),t("mi",null,"sin"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ϕ"),t("mo",{stretchy:"false"},")")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("msup",null,[t("mi",null,"r"),t("mn",null,"2")]),t("mi",null,"sin"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ϕ")])])])])],-1),t2=t("p",null,"而单位立体角（Unit solid angle）定义为一块区域垂直投影到单位圆上的面积，对于球面投影到单位圆上：",-1),Q2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},a2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.629ex"},xmlns:"http://www.w3.org/2000/svg",width:"21.791ex",height:"4.778ex",role:"img",focusable:"false",viewBox:"0 -1392 9631.8 2111.9","aria-hidden":"true"},T2=e("",1),e2=[T2],s2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ω"),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"A")]),t("msup",null,[t("mi",{mathvariant:"normal"},"r"),t("mn",null,"2")])]),t("mo",null,"="),t("mi",null,"sin"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ϕ")])],-1),l2=t("h4",{id:"intensity",tabindex:"-1"},[Q("Intensity "),t("a",{class:"header-anchor",href:"#intensity","aria-label":'Permalink to "Intensity"'},"​")],-1),n2=t("p",null,[Q("Intensity 指的是"),t("strong",null,"每立体角"),Q("上的能量，其描述了光源的强度，物理上使用流明（luman）为单位。如果一个点光源均匀向外辐射能量，则其任意方向上的 Intensity 为：")],-1),m2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},d2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.044ex"},xmlns:"http://www.w3.org/2000/svg",width:"28.752ex",height:"5.123ex",role:"img",focusable:"false",viewBox:"0 -1361 12708.2 2264.4","aria-hidden":"true"},o2=e("",1),r2=[o2],i2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",{mathvariant:"normal"},"Φ"),t("mo",null,"="),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"s"),t("mn",null,"2")])])]),t("mi",null,"I"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ω"),t("mo",null,"="),t("mn",null,"4"),t("mi",null,"π"),t("mi",{mathvariant:"normal"},"I"),t("mo",{stretchy:"false"},"⇒"),t("mi",{mathvariant:"normal"},"I"),t("mo",null,"="),t("mfrac",null,[t("mi",{mathvariant:"normal"},"Φ"),t("mrow",null,[t("mn",null,"4"),t("mi",null,"π")])])])],-1),h2=t("h4",{id:"irradiance",tabindex:"-1"},[Q("Irradiance "),t("a",{class:"header-anchor",href:"#irradiance","aria-label":'Permalink to "Irradiance"'},"​")],-1),p2=t("strong",null,"每单位投影面积",-1),g2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.729ex",height:"1.538ex",role:"img",focusable:"false",viewBox:"0 -680 764 680","aria-hidden":"true"},H2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D438",d:"M492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213Z",style:{"stroke-width":"3"}})])])],-1),u2=[H2],k2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"E")])],-1),w2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.552ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.637ex",height:"4.627ex",role:"img",focusable:"false",viewBox:"0 -1359 5143.6 2045","aria-hidden":"true"},x2=e("",1),L2=[x2],f2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"E"),t("mo",null,"="),t("mfrac",null,[t("mi",{mathvariant:"normal"},"Φ"),t("mi",null,"A")]),t("mi",null,"c"),t("mi",null,"o"),t("mi",null,"s"),t("mi",null,"θ")])],-1),V2=t("p",null,"Irradiance 与投影面积相关，而 Intensity 则指的是单位角上的能量，因此在一个点光源向四周均匀扩散，扩散过程中 Intensity 没有变化，但是 Irradiance 在衰减。",-1),M2=t("h4",{id:"radiance",tabindex:"-1"},[Q("Radiance "),t("a",{class:"header-anchor",href:"#radiance","aria-label":'Permalink to "Radiance"'},"​")],-1),_2=t("p",null,[Q("Radiance 指的是"),t("strong",null,"每单位立体角、每单位面积"),Q("上的能量，其物理意义是一个点向/从某一方向辐射/接受的能量。")],-1),Z2=t("p",null,[t("img",{src:r,alt:"Radiance"})],-1),b2={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},D2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.541ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 681 683","aria-hidden":"true"},v2=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D43F",d:"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z",style:{"stroke-width":"3"}})])])],-1),E2=[v2],A2=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"L")])],-1),j2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},C2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"18.662ex",height:"4.88ex",role:"img",focusable:"false",viewBox:"0 -1460 8248.6 2157","aria-hidden":"true"},R2=e("",1),F2=[R2],S2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"L"),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("mi",null,"ω"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mi",null,"I"),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("mi",null,"ω"),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"A"),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ")])])])],-1),B2=t("p",null,"Radicance 是 Intensity 和 Irradiance 的组合，因此也可以表示为 Radiance 是每单位投影面积上的 Intensity，或是每单位立体角上的 Irradiance。对某一个点上 Radiance 的所有单位角积分，就得到了 Irradiance：",-1),O2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},P2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-3.459ex"},xmlns:"http://www.w3.org/2000/svg",width:"25.061ex",height:"8.048ex",role:"img",focusable:"false",viewBox:"0 -2028.7 11077.1 3557.4","aria-hidden":"true"},I2=e("",1),N2=[I2],X2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"E"),t("mo",{stretchy:"false"},"("),t("mi",{mathvariant:"normal"},"p"),t("mo",null,","),t("mi",null,"ω"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ω")])]),t("mtr",null,[t("mtd",null,[t("mi",null,"E"),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"H"),t("mn",null,"2")])])]),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",null,"ω")])])])])],-1),G2=t("h3",{id:"light-transport",tabindex:"-1"},[Q("Light Transport "),t("a",{class:"header-anchor",href:"#light-transport","aria-label":'Permalink to "Light Transport"'},"​")],-1),q2=t("p",null,[Q("双向反射分布函数（"),t("strong",null,"Bidrectional Reflectance Distribution Function"),Q(", BRDF） 描述了从一个方向的 Radicance 作用到物体表面，然后如何辐射出去的方程，也就是一个反射方程：")],-1),z2={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},J2={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.172ex"},xmlns:"http://www.w3.org/2000/svg",width:"42.323ex",height:"5.475ex",role:"img",focusable:"false",viewBox:"0 -1460 18706.6 2420","aria-hidden":"true"},K2=e("",1),W2=[K2],U2=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"f"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"→"),t("msub",null,[t("mi",null,"ω"),t("mi",null,"r")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"r")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"r")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",{mathvariant:"normal"},"E"),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},")")])]),t("mo",null,"="),t("mfrac",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",{mathvariant:"normal"},"L"),t("mi",{mathvariant:"normal"},"r")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"r")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"θ"),t("mi",null,"i")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"i")])])])])],-1),$2=t("p",null,"对于一个镜面，光线会全部沿着反射 角方向辐射出去；对于一个漫反射，光线会在所有方向均匀反射。因此 BRDF 其实也定义了一种材质。",-1),Y2=t("p",null,"要计算辐射出去的 Irradiance，可以将面积分：",-1),t4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},Q4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.028ex"},xmlns:"http://www.w3.org/2000/svg",width:"45.921ex",height:"5.107ex",role:"img",focusable:"false",viewBox:"0 -1361 20297.2 2257.4","aria-hidden":"true"},a4=e("",1),T4=[a4],e4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"L"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("mi",null,"ω"),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msup",null,[t("mi",null,"H"),t("mn",null,"2")])])]),t("msub",null,[t("mi",null,"f"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{accent:"false",stretchy:"false"},"→"),t("msub",null,[t("mi",null,"ω"),t("mi",null,"r")]),t("mo",{stretchy:"false"},")"),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msub",null,[t("mi",null,"θ"),t("mi",null,"i")]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"i")])])],-1),s4=t("p",null,[Q("在实际使用中，我们还需要考虑物体本身发光的情况，由此我们可以推出渲染方程（"),t("strong",null,"Rendering Equation"),Q("）：")],-1),l4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},n4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.159ex"},xmlns:"http://www.w3.org/2000/svg",width:"57.508ex",height:"5.238ex",role:"img",focusable:"false",viewBox:"0 -1361 25418.7 2315.3","aria-hidden":"true"},m4=e("",1),d4=[m4],o4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("msub",null,[t("mi",null,"L"),t("mi",null,"o")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mo",null,"="),t("msub",null,[t("mi",null,"L"),t("mi",null,"e")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mo",null,"+"),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"Ω"),t("mo",null,"+")])]),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("msub",null,[t("mi",null,"f"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mo",{stretchy:"false"},"("),t("mi",null,"n"),t("mo",null,"⋅"),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"i")])])],-1),r4=t("p",null,"公式中假设所有方向都朝外，因此公式中不含负号；BRDF 的积分域为正半球。",-1),i4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},h4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"8.332ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 3682.6 1000","aria-hidden":"true"},p4=e("",1),g4=[p4],c4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("mi",null,"p"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")")])],-1),H4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},u4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"12.604ex",height:"1.731ex",role:"img",focusable:"false",viewBox:"0 -683 5571 765","aria-hidden":"true"},k4=e("",1),w4=[k4],y4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mi",null,"L"),t("mo",null,"="),t("mi",null,"E"),t("mo",null,"+"),t("mi",null,"K"),t("mi",null,"L")])],-1),x4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},L4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.541ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 681 683","aria-hidden":"true"},f4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D43F",d:"M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z",style:{"stroke-width":"3"}})])])],-1),V4=[f4],M4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"L")])],-1),_4={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Z4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"2.011ex",height:"1.545ex",role:"img",focusable:"false",viewBox:"0 -683 889 683","aria-hidden":"true"},b4=t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D43E",d:"M285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Z",style:{"stroke-width":"3"}})])])],-1),D4=[b4],v4=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"K")])],-1),E4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},A4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-6.902ex"},xmlns:"http://www.w3.org/2000/svg",width:"40.694ex",height:"14.936ex",role:"img",focusable:"false",viewBox:"0 -3550.9 17986.7 6601.8","aria-hidden":"true"},j4=e("",1),C4=[j4],R4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left right left",columnspacing:"0em 2em 0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd"),t("mtd"),t("mtd",null,[t("mi",null,"L")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"E"),t("mo",null,"+"),t("mi",null,"K"),t("mi",null,"L")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",{stretchy:"false"},"⇒")]),t("mtd",null,[t("mi",null,"I"),t("mi",null,"L"),t("mo",null,"−"),t("mi",null,"K"),t("mi",null,"L")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"E")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",{stretchy:"false"},"⇒")]),t("mtd",null,[t("mi",null,"L")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mi",null,"I"),t("mo",null,"−"),t("mi",null,"K"),t("msup",null,[t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mo",null,"−"),t("mn",null,"1")])]),t("mi",null,"E")])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",{stretchy:"false"},"⇒")]),t("mtd",null,[t("mi",null,"L")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("mo",{stretchy:"false"},"("),t("mi",null,"I"),t("mo",null,"+"),t("mi",null,"K"),t("mo",null,"+"),t("msup",null,[t("mi",null,"K"),t("mn",null,"2")]),t("mo",null,"+"),t("mo",null,"⋯"),t("mo",{stretchy:"false"},")"),t("mi",null,"E")])]),t("mtr",null,[t("mtd"),t("mtd"),t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("mi",null,"E"),t("mo",null,"+"),t("mi",null,"K"),t("mi",null,"E"),t("mo",null,"+"),t("msup",null,[t("mi",null,"K"),t("mn",null,"2")]),t("mi",null,"E"),t("mo",null,"+"),t("mo",null,"⋯")])])])])],-1),F4=t("p",null,"这样的表示形式直观的的表示了辐射量为能量产生项、直接光照项、间接光照项的和，我们将公式中除第一项外其他项的和称为全局光照（Global Illumination）。",-1),S4=t("p",null,"要解这样一个积分，直接计算并不容易，我们通常使用蒙特·卡罗积分方法近似计算。蒙特·卡罗积分（Monte Carlo Integration）是积分的数值计算方法，通过对函数随机采样，对采样值除以其 PDF（probability density function，概率密度函数）：",-1),B4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},O4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-2.498ex"},xmlns:"http://www.w3.org/2000/svg",width:"41.382ex",height:"6.127ex",role:"img",focusable:"false",viewBox:"0 -1604 18290.6 2708","aria-hidden":"true"},P4=e("",1),I4=[P4],N4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left right",columnspacing:"0em 2em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mi",null,"f"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"x"),t("mo",null,"="),t("mfrac",null,[t("mn",null,"1"),t("mi",{mathvariant:"normal"},"N")]),t("munder",null,[t("mo",{"data-mjx-texclass":"OP"},"∑"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"i"),t("mo",null,"="),t("mn",null,"1")])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"N")]),t("mfrac",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"f"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"X"),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},")")]),t("mrow",null,[t("mi",{mathvariant:"normal"},"p"),t("mo",{stretchy:"false"},"("),t("msub",null,[t("mi",{mathvariant:"normal"},"X"),t("mi",{mathvariant:"normal"},"i")]),t("mo",{stretchy:"false"},")")])])]),t("mtd"),t("mtd",null,[t("msub",null,[t("mi",null,"X"),t("mi",null,"i")]),t("mo",null,"∼"),t("mi",null,"p"),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",{stretchy:"false"},")")])])])])],-1),X4=e("",19),G4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},q4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-5.113ex"},xmlns:"http://www.w3.org/2000/svg",width:"48.975ex",height:"11.358ex",role:"img",focusable:"false",viewBox:"0 -2760.1 21646.9 5020.3","aria-hidden":"true"},z4=e("",1),J4=[z4],K4=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mtable",{displaystyle:"true",columnalign:"right left",columnspacing:"0em",rowspacing:"3pt"},[t("mtr",null,[t("mtd",null,[t("msub",null,[t("mi",null,"L"),t("mi",null,"o")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mn",null,"0")]),t("mo",{stretchy:"false"},")")]),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"Ω"),t("mo",null,"+")])]),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("msub",null,[t("mi",null,"f"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("msub",null,[t("mi",null,"ω"),t("mi",{mathvariant:"normal"},"i")])])]),t("mtr",null,[t("mtd"),t("mtd",null,[t("mi"),t("mo",null,"="),t("msub",null,[t("mo",{"data-mjx-texclass":"OP"},"∫"),t("mi",null,"A")]),t("msub",null,[t("mi",null,"L"),t("mi",null,"i")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",{stretchy:"false"},")"),t("msub",null,[t("mi",null,"f"),t("mi",null,"r")]),t("mo",{stretchy:"false"},"("),t("mi",null,"x"),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"i")]),t("mo",null,","),t("msub",null,[t("mi",null,"ω"),t("mi",null,"o")]),t("mo",{stretchy:"false"},")"),t("mfrac",null,[t("mrow",null,[t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("mi",null,"θ"),t("mi",null,"cos"),t("mo",{"data-mjx-texclass":"NONE"},"⁡"),t("msup",null,[t("mi",null,"θ"),t("mo",{"data-mjx-alternate":"1"},"′")])]),t("mrow",null,[t("mo",{"data-mjx-texclass":"OPEN",fence:"false",stretchy:"false"},"‖"),t("msup",null,[t("mi",null,"x"),t("mo",{"data-mjx-alternate":"1"},"′")]),t("mo",null,"−"),t("mi",null,"x"),t("msup",null,[t("mo",{"data-mjx-texclass":"CLOSE",fence:"false",stretchy:"false"},"‖"),t("mn",null,"2")])])]),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"A")])])])])],-1),W4=e("",18),U4={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},$4={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-1.577ex"},xmlns:"http://www.w3.org/2000/svg",width:"11.983ex",height:"4.726ex",role:"img",focusable:"false",viewBox:"0 -1392 5296.6 2089","aria-hidden":"true"},Y4=e("",1),t6=[Y4],Q6=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mfrac",null,[t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"N")]),t("mrow",null,[t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",{mathvariant:"normal"},"d")]),t("mi",{mathvariant:"normal"},"A")])]),t("mo",null,"≠"),t("mfrac",null,[t("mrow",null,[t("mi",{mathvariant:"normal"},"△"),t("mi",null,"N")]),t("mrow",null,[t("mi",{mathvariant:"normal"},"△"),t("mi",null,"A")])])])],-1),a6=e("",7);function T6(e6,s6,l6,n6,m6,d6){return T(),a("div",null,[c,t("p",null,[Q("表示一条光线："),t("mjx-container",H,[(T(),a("svg",u,w)),y]),Q("，其中 "),t("mjx-container",x,[(T(),a("svg",L,V)),M]),Q(" 为光源位置，"),t("mjx-container",_,[(T(),a("svg",Z,D)),v]),Q(" 为光线方向向量。")]),t("p",null,[Q("对于一个隐式描述的表面 "),t("mjx-container",E,[(T(),a("svg",A,C)),R]),Q("，我们可以由交点在两个函数上 "),t("mjx-container",F,[(T(),a("svg",S,O)),P]),Q("，通过数值计算方法求得一个实的、正的 "),t("mjx-container",I,[(T(),a("svg",N,G)),q]),Q("，即求得交点。")]),z,t("mjx-container",J,[(T(),a("svg",K,U)),$]),Y,t("mjx-container",t1,[(T(),a("svg",Q1,T1)),e1]),s1,t("mjx-container",l1,[(T(),a("svg",n1,d1)),o1]),t("p",null,[Q("求出 "),t("mjx-container",r1,[(T(),a("svg",i1,p1)),g1]),Q(" 后判断 "),t("mjx-container",c1,[(T(),a("svg",H1,k1)),w1]),Q(" 即得到结果，该方法花费为 1 次除法、27 次乘法和 17 次加法。")]),y1,x1,L1,t("ul",null,[t("li",null,[Q("For each pair, calculate the "),t("mjx-container",f1,[(T(),a("svg",V1,_1)),Z1]),Q(" and "),t("mjx-container",b1,[(T(),a("svg",D1,E1)),A1])]),t("li",null,[Q("For the AABB, "),t("mjx-container",j1,[(T(),a("svg",C1,F1)),S1])]),t("li",null,[Q("In summary, ray and AABB intersect iff: "),t("mjx-container",B1,[(T(),a("svg",O1,I1)),N1]),Q(" and "),t("mjx-container",X1,[(T(),a("svg",G1,z1)),J1])])]),K1,W1,U1,t("p",null,[$1,Q(" （八叉树）是指将三维空间在将空间分为八份，不难发现 "),t("mjx-container",Y1,[(T(),a("svg",t3,a3)),T3]),Q(" 维度空间下需要 "),t("mjx-container",e3,[(T(),a("svg",s3,n3)),m3]),Q(" 叉树。Oct-Tree 在存储上并不方便，于是人们将每个维度的分割独立存储（比如先分 x 轴，再分 y 轴，最后分 z 轴），将其存储为一个二叉树，称为 "),d3,Q("。更进一步的，我们选择任意一个超平面（而不是一个轴对齐的面）分隔空间，称其为 "),o3,Q("，不过 BSP-Tree 并不好建立。")]),r3,t("ul",null,[i3,h3,t("li",null,[Q("选择中间的物体，可以使树趋于平衡； "),t("ul",null,[t("li",null,[Q("快速选择算法："),t("mjx-container",p3,[(T(),a("svg",g3,H3)),u3]),Q(" 时间内查找第 "),t("mjx-container",k3,[(T(),a("svg",w3,x3)),L3]),Q(" 个数。")])])]),f3]),V3,M3,_3,Z3,t("ul",null,[b3,t("li",null,[Q("Power(Flux)：功率指的是一定时间内的能量 "),t("mjx-container",D3,[(T(),a("svg",v3,A3)),j3]),Q("，通常为单位时间； "),C3])]),R3,F3,t("p",null,[Q("立体角（Solid angle）是以观测点为球心，构造一个单位球面；任意物体投影到该单位球面上的投影面积，即为该物体相对于该观测点的立体角，通常使用 "),t("mjx-container",S3,[(T(),a("svg",B3,P3)),I3]),Q(" 表示。因此，立体角是单位球面上的一块面积，这和“平面角是单位圆上的一段弧长”类似。")]),N3,t("p",null,[Q("在球坐标系 "),t("mjx-container",X3,[(T(),a("svg",G3,z3)),J3]),Q(" 中，任意球面的极小面积为：")]),t("mjx-container",K3,[(T(),a("svg",W3,$3)),Y3]),t2,t("mjx-container",Q2,[(T(),a("svg",a2,e2)),s2]),l2,n2,t("mjx-container",m2,[(T(),a("svg",d2,r2)),i2]),h2,t("p",null,[Q("Irradiance 指的是"),p2,Q("上的能量，其物理意义是在这一面积上存在的一个物体能够接收到多少能量。Irradiance 通常使用 "),t("mjx-container",g2,[(T(),a("svg",c2,u2)),k2]),Q(" 表示，并且只计算垂直分量：")]),t("mjx-container",w2,[(T(),a("svg",y2,L2)),f2]),V2,M2,_2,Z2,t("p",null,[Q("Radiance 使用 "),t("mjx-container",b2,[(T(),a("svg",D2,E2)),A2]),Q(" 表示：")]),t("mjx-container",j2,[(T(),a("svg",C2,F2)),S2]),B2,t("mjx-container",O2,[(T(),a("svg",P2,N2)),X2]),G2,q2,t("mjx-container",z2,[(T(),a("svg",J2,W2)),U2]),$2,Y2,t("mjx-container",t4,[(T(),a("svg",Q4,T4)),e4]),s4,t("mjx-container",l4,[(T(),a("svg",n4,d4)),o4]),r4,t("p",null,[Q("在渲染方程中，实际上只有入射的光线信息 "),t("mjx-container",i4,[(T(),a("svg",h4,g4)),c4]),Q(" 是未知的，因此我们渲染方程可以简化为：")]),t("mjx-container",H4,[(T(),a("svg",u4,w4)),y4]),t("p",null,[Q("其中，"),t("mjx-container",x4,[(T(),a("svg",L4,V4)),M4]),Q(" 为物体发光，而 "),t("mjx-container",_4,[(T(),a("svg",Z4,D4)),v4]),Q(" 是一个表示反射的积分算子。为了解这个渲染方程，我们通过数学变换：")]),t("mjx-container",E4,[(T(),a("svg",A4,C4)),R4]),F4,S4,t("mjx-container",B4,[(T(),a("svg",O4,I4)),N4]),X4,t("mjx-container",G4,[(T(),a("svg",q4,J4)),K4]),W4,t("mjx-container",U4,[(T(),a("svg",$4,t6)),Q6]),a6])}const i6=s(g,[["render",T6]]);export{r6 as __pageData,i6 as default};
