import{_ as i,o as s,c as e,a as l}from"./chunks/framework.heUNgYAJ.js";const a="/assets/the-next-builder.Qz7ykyER.png",t="/assets/from-template-to-render-function.veONMmrq.png",n="/assets/composable-dependency-graph.U1I3-Gsz.png",p="/assets/reactive-like-excel.hU3NQOf1.png",h="/assets/kraken-intro.AeBoVfGU.png",r="/assets/kraken-diff-tech.h8MoeSWV.png",b=JSON.parse('{"title":"Vue Conf 21","description":"","frontmatter":{"date":"2021-5-22","updated":"2021-6-29","tags":["vue","vueconf","frontend"],"categories":["Computer Science","FrontEnd","Vue"]},"headers":[{"level":1,"title":"Vue Conf 21","slug":"vue-conf-21","link":"#vue-conf-21","children":[{"level":2,"title":"Vite","slug":"vite","link":"#vite","children":[{"level":3,"title":"ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ","slug":"ä¸ºä»€ä¹ˆæ›´å¿«","link":"#ä¸ºä»€ä¹ˆæ›´å¿«","children":[]},{"level":3,"title":"SSR ç›®æ ‡","slug":"ssr-ç›®æ ‡","link":"#ssr-ç›®æ ‡","children":[]}]},{"level":2,"title":"ç¼–è¯‘ä¼˜åŒ–æ€è·¯","slug":"ç¼–è¯‘ä¼˜åŒ–æ€è·¯","link":"#ç¼–è¯‘ä¼˜åŒ–æ€è·¯","children":[]},{"level":2,"title":"Element3","slug":"element3","link":"#element3","children":[]},{"level":2,"title":"æ–°ä¸€ä»£æ„å»ºå·¥å…·","slug":"æ–°ä¸€ä»£æ„å»ºå·¥å…·","link":"#æ–°ä¸€ä»£æ„å»ºå·¥å…·","children":[{"level":3,"title":"Type First","slug":"type-first","link":"#type-first","children":[]},{"level":3,"title":"å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–","slug":"å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–","link":"#å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–","children":[]},{"level":3,"title":"Be Explicit","slug":"be-explicit","link":"#be-explicit","children":[]},{"level":3,"title":"Module By Default","slug":"module-by-default","link":"#module-by-default","children":[]},{"level":3,"title":"æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜","slug":"æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜","link":"#æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜","children":[]}]},{"level":2,"title":"å‡å°‘ Node ä¾èµ–","slug":"å‡å°‘-node-ä¾èµ–","link":"#å‡å°‘-node-ä¾èµ–","children":[]},{"level":2,"title":"JSX","slug":"jsx","link":"#jsx","children":[{"level":3,"title":"ä»€ä¹ˆæ˜¯â€œçœŸæ­£çš„â€JSX","slug":"ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx","link":"#ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx","children":[]},{"level":3,"title":"ç¼ºç‚¹","slug":"ç¼ºç‚¹","link":"#ç¼ºç‚¹","children":[]}]},{"level":2,"title":"Composition API","slug":"composition-api","link":"#composition-api","children":[{"level":3,"title":"ä¸ºä»€ä¹ˆè¦ç»„åˆå¼ï¼Ÿ","slug":"ä¸ºä»€ä¹ˆè¦ç»„åˆå¼","link":"#ä¸ºä»€ä¹ˆè¦ç»„åˆå¼","children":[]},{"level":3,"title":"ä»€ä¹ˆæ˜¯ç»„åˆå¼ï¼Ÿ","slug":"ä»€ä¹ˆæ˜¯ç»„åˆå¼","link":"#ä»€ä¹ˆæ˜¯ç»„åˆå¼","children":[]},{"level":3,"title":"Reactive","slug":"reactive","link":"#reactive","children":[]},{"level":3,"title":"Best practices","slug":"best-practices","link":"#best-practices","children":[]}]},{"level":2,"title":"Vue çš„ Flutter å®è·µ","slug":"vue-çš„-flutter-å®è·µ","link":"#vue-çš„-flutter-å®è·µ","children":[]}]}],"relativePath":"posts/2021/05/22/vue-conf-21.md","filePath":"posts/2021/05/22/vue-conf-21.md"}'),o={name:"posts/2021/05/22/vue-conf-21.md"},d=l(`<h1 id="vue-conf-21" tabindex="-1">Vue Conf 21 <a class="header-anchor" href="#vue-conf-21" aria-label="Permalink to &quot;Vue Conf 21&quot;">â€‹</a></h1><h2 id="vite" tabindex="-1">Vite <a class="header-anchor" href="#vite" aria-label="Permalink to &quot;Vite&quot;">â€‹</a></h2><h3 id="ä¸ºä»€ä¹ˆæ›´å¿«" tabindex="-1">ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ›´å¿«" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ&quot;">â€‹</a></h3><p>Vite å¿«é€Ÿçš„æ ¸å¿ƒåŸå› æ—¶æ”¹å˜äº†åŸæœ‰çš„ Bundler-Based Dev Serverï¼Œè€Œé‡‡ç”¨ ESM-Based Dev Server æ–¹æ¡ˆã€‚Bundle-Base çš„æ–¹æ¡ˆä¸­ï¼Œ<strong>Full Bundler</strong> å†³å®šäº†å¼€å‘æœåŠ¡å™¨çš„æ¯æ¬¡å¯åŠ¨éƒ½ååˆ†ä½æ•ˆï¼Œéœ€è¦ä»å…¥å£æ–‡ä»¶è§£ææ•´ä¸ªä¾èµ–æ ‘å¹¶å°†å…¶æ‰“åŒ…ã€‚è€Œå…¨æ–°çš„ ESM-Based å¼€å‘æœåŠ¡å™¨åªéœ€è¦åšæ¯ä¸ªæ–‡ä»¶çš„ <strong>Transform</strong>ï¼Œæ–‡ä»¶ä¾èµ–è§£æåˆ™äº¤ç”± ESM å®Œæˆï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå¼€å‘æœåŠ¡å™¨çœŸçš„å°±åªéœ€è¦ç›‘å¬ä¸€ä¸ªç«¯å£é‚£ä¹ˆç®€å•ï¼</p><blockquote><p>å…¶å®å¯èƒ½è¿˜æœ‰ä¾èµ–é¢„æ„å»ºï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯ä¸ºäº†æ›´å¿«</p></blockquote><h3 id="ssr-ç›®æ ‡" tabindex="-1">SSR ç›®æ ‡ <a class="header-anchor" href="#ssr-ç›®æ ‡" aria-label="Permalink to &quot;SSR ç›®æ ‡&quot;">â€‹</a></h3><ul><li>Dev Bundless</li><li>Node ç¯å¢ƒä¸‹åŠ è½½ ESM <ul><li>å…¼å®¹ Node ä½ç‰ˆæœ¬</li><li>å…¼å®¹ç”Ÿæ€ç¯å¢ƒ</li></ul></li><li>æ”¯æŒ HMR+Plugin</li></ul><h2 id="ç¼–è¯‘ä¼˜åŒ–æ€è·¯" tabindex="-1">ç¼–è¯‘ä¼˜åŒ–æ€è·¯ <a class="header-anchor" href="#ç¼–è¯‘ä¼˜åŒ–æ€è·¯" aria-label="Permalink to &quot;ç¼–è¯‘ä¼˜åŒ–æ€è·¯&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* create  */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* mount   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* patch   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* destory */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @vue/reactive</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* create  */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* mount   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* destory */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="element3" tabindex="-1">Element3 <a class="header-anchor" href="#element3" aria-label="Permalink to &quot;Element3&quot;">â€‹</a></h2><ul><li>Headless/Styled</li><li>webGL -&gt; æè´¨</li></ul><h2 id="æ–°ä¸€ä»£æ„å»ºå·¥å…·" tabindex="-1">æ–°ä¸€ä»£æ„å»ºå·¥å…· <a class="header-anchor" href="#æ–°ä¸€ä»£æ„å»ºå·¥å…·" aria-label="Permalink to &quot;æ–°ä¸€ä»£æ„å»ºå·¥å…·&quot;">â€‹</a></h2><blockquote><p>åˆ«è®©æ„å»ºæµç¨‹æˆä¸ºæŠ€æœ¯åŒ…è¢±</p></blockquote><p><img src="`+a+'" alt="The Next Builder"></p><h3 id="type-first" tabindex="-1">Type First <a class="header-anchor" href="#type-first" aria-label="Permalink to &quot;Type First&quot;">â€‹</a></h3><p>Type First, ç±»å‹ä¼˜å…ˆ -&gt; TypeScript</p><ul><li>ç±»å‹æç¤º</li><li>æ™ºèƒ½è¡¥å…¨</li><li>çœä¸‹å†™æ–‡æ¡£çš„æ—¶é—´</li><li>æ–¹ä¾¿é‡æ„</li></ul><h3 id="å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–" tabindex="-1">å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤– <a class="header-anchor" href="#å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–" aria-label="Permalink to &quot;å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–&quot;">â€‹</a></h3><ul><li>esbuild: å•çº¯çš„ TypeScript è¯æ³•æ‰©å±•å¹¶ä¸ä¼šè®©ç¼–è¯‘å˜æ…¢</li><li>æŠŠ tsc ä½œä¸º lint çš„ä¸€éƒ¨åˆ†</li></ul><h3 id="be-explicit" tabindex="-1">Be Explicit <a class="header-anchor" href="#be-explicit" aria-label="Permalink to &quot;Be Explicit&quot;">â€‹</a></h3><ul><li><p>ç”¨ define* çš„å¸®åŠ©å‡½æ•°ï¼šç±»å‹è¡¥å…¨</p></li><li><p>ä¸è¦çœç•¥æ–‡ä»¶åï¼šç±»å‹</p></li></ul><h3 id="module-by-default" tabindex="-1">Module By Default <a class="header-anchor" href="#module-by-default" aria-label="Permalink to &quot;Module By Default&quot;">â€‹</a></h3><ul><li><p>æ‹¥æŠ± ES Module</p></li><li><p>é‡æ–°çœ‹å¾… Externalsï¼Œåœ¨ ESM æ—¶ä»£ï¼Œç®€å•çš„ Externals å¹¶ä¸å¥½ç”¨</p><ul><li>alias</li><li>import maps</li></ul></li><li><p><code>__filename</code> / <code>__dirname</code> / <code>require.resolve</code> =&gt; <code>import.meta.url</code></p></li><li><p><code>process.env</code> =&gt; <code>import.meta.env</code></p><ul><li>æ¥è‡ª Node.jsï¼Œç¯å¢ƒå¹¶ä¸å­˜åœ¨</li><li>æµè§ˆå™¨ç«¯çš„ <code>process.env</code> å¹¶ä¸æ˜¯ç¯å¢ƒï¼Œè€Œæ˜¯é…ç½®</li><li><code>NODE_ENV</code>æœ‰å„ç§çº¦å®šä¿—ç§°çš„ç”¨æ³•</li></ul></li><li><p>JSON modules =&gt; æ ‡å‡†åªæœ‰ default import</p></li></ul><h3 id="æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜" tabindex="-1">æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜ <a class="header-anchor" href="#æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜" aria-label="Permalink to &quot;æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜&quot;">â€‹</a></h3><p>æµè§ˆå™¨å…¼å®¹ &amp; æŠ€æœ¯å€ºåŠ¡</p><ul><li>IE 11 =&gt; Retail</li><li>Dynamic Import</li><li>Node.js Polyfills &amp; Shims</li></ul><h2 id="å‡å°‘-node-ä¾èµ–" tabindex="-1">å‡å°‘ Node ä¾èµ– <a class="header-anchor" href="#å‡å°‘-node-ä¾èµ–" aria-label="Permalink to &quot;å‡å°‘ Node ä¾èµ–&quot;">â€‹</a></h2><p>æŠ¹å¹³å·®è·</p><ul><li>Defineï¼šç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢</li><li>Mock / Shamï¼šæ— å®é™…åŠŸèƒ½çš„æ¨¡æ‹Ÿï¼Œå¦‚ fs</li><li>Shim / Polyfillï¼šæ¨¡æ‹Ÿå®Œæ•´åŠŸèƒ½ï¼Œå¦‚ path</li></ul><p>ç”¨ globalThis ä»£æ›¿ global/window</p><h2 id="jsx" tabindex="-1">JSX <a class="header-anchor" href="#jsx" aria-label="Permalink to &quot;JSX&quot;">â€‹</a></h2><p><img src="'+t+`" alt="From Template to Render Function"></p><p>åˆ©ç”¨ Babel èµ‹äºˆçš„ç¼–è¯‘èƒ½åŠ›ï¼Œå®ç°æ¨¡æ¿ä¸ JSX è·¨è¯­è¨€è”åŠ¨ï¼Œä»¥ç”¨æˆ·çš„éœ€æ±‚ä¸ºæŠ“æ‰‹ï¼Œæ‘¸ç´¢å‡ºä¸€å¥—é€‚ç”¨äº Vue çš„ JSX æ–¹æ³•è®ºï¼Œæ‰“é€  Vue ç”Ÿæ€é—­ç¯ï¼Œåˆ©ç”¨ TypeScript çš„ç±»å‹æç¤ºï¼Œä¸ºæ›´ä¹ æƒ¯äº JSX çš„å¼€å‘è€…èµ‹èƒ½ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx" tabindex="-1">ä»€ä¹ˆæ˜¯â€œçœŸæ­£çš„â€JSX <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯â€œçœŸæ­£çš„â€JSX&quot;">â€‹</a></h3><p>JSX æœ€æ—©ç”± Facebook èµ·è‰ï¼Œç”¨äº Reactï¼Œä½†ä¸æ˜¯ tc39 çš„è§„èŒƒï¼Œå› æ­¤æµè§ˆå™¨ä¸ä¼šç›´æ¥å®ç°ã€‚JSX éœ€è¦ç”±ç¼–è¯‘å™¨å’Œæ¡†æ¶æ¥&quot;èµ‹èƒ½&quot;ï¼Œä»¥ä¸‹åˆ—ä»£ç ä¸ºä¾‹ï¼š</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello, world!&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>ç»è¿‡ç¼–è¯‘åï¼ˆé€šè¿‡ Babel, ts ç­‰å·¥å…·è½¬æ¢ ASTï¼‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createVNode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _createVNode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_createVNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;h1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, world!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="ç¼ºç‚¹" tabindex="-1">ç¼ºç‚¹ <a class="header-anchor" href="#ç¼ºç‚¹" aria-label="Permalink to &quot;ç¼ºç‚¹&quot;">â€‹</a></h3><ol><li><p><strong>é¢å¤–çš„è¿è¡Œæ—¶</strong>ï¼šJSX æ— æ³•åˆ¤æ–­ slot æˆ– childrenï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶åˆ¤æ–­</p></li><li><p><strong>ä¿¡æ¯ä¸è¶³</strong>ï¼šJSX è¯­æ³•è‡ªç”±çš„ä»£ä»·å°±æ˜¯éš¾ä»¥å®ç°é™æ€åˆ†æï¼Œç¼–è¯‘ä¿¡æ¯è¾ƒå°‘ï¼ŒVue3 å¼•å…¥çš„<code>PatchFlags</code>æ— æ³•å®Œå…¨åšåˆ°ï¼Œå¯¼è‡´ JSX ç¼–è¯‘åçš„ <code>Render Function</code> æ€§èƒ½å·®ä¸€äº›</p></li></ol><h2 id="composition-api" tabindex="-1">Composition API <a class="header-anchor" href="#composition-api" aria-label="Permalink to &quot;Composition API&quot;">â€‹</a></h2><blockquote><p>PPT: <a href="https://talks.antfu.me/2021/vueconf-china" target="_blank" rel="noreferrer">https://talks.antfu.me/2021/vueconf-china</a></p></blockquote><h3 id="ä¸ºä»€ä¹ˆè¦ç»„åˆå¼" tabindex="-1">ä¸ºä»€ä¹ˆè¦ç»„åˆå¼ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦ç»„åˆå¼" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆè¦ç»„åˆå¼ï¼Ÿ&quot;">â€‹</a></h3><ul><li><p>å¯¹è±¡å¼å˜é‡æ¥æºä¸æ˜ç¡®</p></li><li><p>Type è¡¥å…¨å¤æ‚</p></li></ul><h3 id="ä»€ä¹ˆæ˜¯ç»„åˆå¼" tabindex="-1">ä»€ä¹ˆæ˜¯ç»„åˆå¼ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç»„åˆå¼" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ç»„åˆå¼ï¼Ÿ&quot;">â€‹</a></h3><ul><li><p>å¯å¤ç”¨é€»è¾‘çš„ç»„åˆï¼Œå…¶ä¸­æ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨</p></li><li><p>ä¸“æ³¨ç‚¹åˆ†ç¦»</p></li></ul><p><img src="`+n+'" alt="Composable Dependency Graph"></p><h3 id="reactive" tabindex="-1">Reactive <a class="header-anchor" href="#reactive" aria-label="Permalink to &quot;Reactive&quot;">â€‹</a></h3><p>ä¸åŒäº Reactï¼ŒVue çš„ <code>Setup()</code> åªä¼šåœ¨ç»„ä»¶å»ºç«‹æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨æ­¤æœŸé—´ä¼šå»ºç«‹èµ·æ•°æ®ä¸é€»è¾‘ä¹‹é—´çš„è¿ç»“ã€‚</p><ul><li>å»ºç«‹è¾“å…¥ â†’ è¾“å‡ºçš„è¿ç»“</li><li>è¾“å‡ºä¼šæ ¹æ®è¾“å…¥çš„æ”¹å˜è€Œæ”¹å˜ï¼ˆå°±åƒä½ çš„ Excel ä¸€æ · ğŸ‰ï¼‰</li></ul><p><img src="'+p+`" alt="Reactive Like Excel"></p><h3 id="best-practices" tabindex="-1">Best practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best practices&quot;">â€‹</a></h3><ul><li><p>ä¼˜å…ˆä½¿ç”¨ <code>ref</code> è€Œä¸æ˜¯ <code>reactive</code></p><ul><li><p>æ˜¾ç¤ºè°ƒç”¨ï¼Œç±»å‹æ£€æŸ¥</p></li><li><p>ç›¸æ¯” Reactive å±€é™æ›´å°‘ï¼š<code>reactive </code>æœ‰ç±»å‹ï¼Œæ— æ³•è§£æ„â€¦â€¦</p></li></ul></li><li><p>Ref è‡ªåŠ¨è§£åŒ…</p><ul><li><p><code>watch</code> ç›´æ¥æ¥æ”¶ Ref ï¼Œå›è°ƒä¸­ä¼šè‡ªåŠ¨è§£åŒ…</p></li><li><p>Ref åœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…</p></li><li><p>ä½¿ç”¨ <code>reactive</code> è§£åŒ…åµŒå¥— <code>ref</code>ï¼Œç”¨æ¥ä»£æ›¿ <code>toRef</code></p></li></ul></li><li><p><code>unref</code> API</p><ul><li><p><code>unref(a) =&gt; isRef(a) ? a.value : a</code></p></li><li><p>æ¥æ”¶ Ref ä½œä¸ºå‡½æ•°å‚æ•° <code>(a, b) =&gt; unref(a) + unref(b)</code></p></li></ul></li><li><p><code>type MaybeRef&lt;T&gt; = Ref&lt;T&gt; | T </code></p></li><li><p>é‡å¤ä½¿ç”¨ refï¼Œ<code>ref </code>ä¼šè‡ªåŠ¨è§£åŒ…çš„ï¼</p><ul><li><code>newRef = isRef(foo) ? foo : ref(foo)</code>å’Œ<code>newRef = ref(foo)</code> ä¸€æ ·çš„</li></ul></li><li><p>å‰¯ä½œç”¨è‡ªåŠ¨æ¸…é™¤</p><ul><li><p>ç»„ä»¶å†…çš„ <code>watch</code> å’Œ <code>computed</code> ä¼šåœ¨é”€æ¯æ—¶è‡ªåŠ¨æ¸…é™¤</p></li><li><p>Vue 3.2: <code>effectScope</code></p></li></ul></li><li><p>ç±»å‹å®‰å…¨çš„ <code>Provide</code>/<code>Inject</code>ï¼š<code>InjectionKey&lt;T&gt;</code></p></li><li><p>çŠ¶æ€å…±äº«</p><ul><li><p>ç›´æ¥ç”¨ Composition API æŠŠçŠ¶æ€æŠ½ç¦»</p></li><li><p>ä½¿ç”¨ <code>provide</code>/<code>inject</code> æ¥å…±äº«åº”ç”¨å±‚é¢çš„çŠ¶æ€</p></li></ul></li><li><p>å°æŠ€å·§ï¼š<code>useVModel</code></p></li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useVModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> emit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> getCurrentInstance.emit</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props[name]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`update\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>Vue Demi: ä¸€å¥—ä»£ç ï¼ŒåŒæ—¶é€‚ç”¨ Vue 2 å’Œ Vue 3</li></ul><h2 id="vue-çš„-flutter-å®è·µ" tabindex="-1">Vue çš„ Flutter å®è·µ <a class="header-anchor" href="#vue-çš„-flutter-å®è·µ" aria-label="Permalink to &quot;Vue çš„ Flutter å®è·µ&quot;">â€‹</a></h2><ul><li>ç§»åŠ¨ç«¯æŠ€æœ¯æ ˆæ¼”å˜ï¼šWebView -&gt; Hybrid -&gt; RN -&gt; Flutter</li></ul><p><img src="`+h+'" alt="Kraken Intro"></p><p><img src="'+r+'" alt="Kraken Diff Tech"></p>',59),c=[d];function k(u,E,g,y,m,f){return s(),e("div",null,c)}const F=i(o,[["render",k]]);export{b as __pageData,F as default};
