import{d as v,c as p,o as c,h as f,T as w,U as $,x as S,N as m,Q as P,k as g,b as x,r as y,w as b,s as B,q as k,e as z,u as T,n as C}from"./framework.BOQ8FqoK.js";import{_ as q}from"./LayoutBase.vue_vue_type_style_index_0_lang.Ci2SyCD7.js";import{u as R}from"./theme.BX7bBmrh.js";import{d as j}from"./posts.data.4HleVuhd.js";import{d as D}from"./timeline.data.C7MYZVdC.js";const E={class:"flex flex-row justify-center select-none"},I=["onClick"],M=v({__name:"Pager",props:{current:{type:Number,required:!0},total:{type:Number,required:!0},pageSize:{type:Number,default:10},pagerCount:{type:Number,default:7,validator:s=>Number.isInteger(s)&&s>=7&&s%2===1}},emits:["update:current","update:size"],setup(s,{emit:n}){const i=n,e=s,r=p(()=>Math.ceil(e.total/e.pageSize)),a=p(()=>{const t=(e.pagerCount+1)/2;return r.value<=e.pagerCount?0:e.current<=t?1:e.current>r.value-t?2:3}),d=p(()=>{switch(a.value){case 0:return{left:1,right:r.value};case 1:return{left:1,right:e.pagerCount-2};case 2:return{left:r.value+1-(e.pagerCount-2),right:r.value};case 3:const t=(e.pagerCount-5)/2;return{left:e.current-t,right:e.current+t}}}),l=p(()=>{const t=[];[2,3].includes(a.value)&&(t.push({type:"page",index:1,active:!1}),t.push({type:"folder",position:"left"}));for(let u=d.value.left;u<=d.value.right;u++)t.push({type:"page",index:u,active:u===e.current});return[1,3].includes(a.value)&&(t.push({type:"folder",position:"right"}),t.push({type:"page",index:r.value,active:!1})),t});function h(t){i("update:current",t)}function N(t){const{current:u,pagerCount:o}=e,_=o-4;switch(t){case"left":return h(u-_);case"right":return h(u+_)}}return(t,u)=>(c(),f("ul",E,[(c(!0),f(w,null,$(l.value,o=>(c(),f("li",{class:S(["h-8 w-10 mx-2 leading-8 text-center cursor-pointer border rounded border-transparent transition-all text-gray-900 hover:text-primary-500",o.type==="page"&&o.active?"text-primary-500 border-gray-200 bg-white bg-opacity-80 hover:bg-opacity-100":"hover:bg-white hover:bg-opacity-60"]),onClick:_=>o.type==="page"?h(o.index):N(o.position)},m(o.type==="page"?o.index:"..."),11,I))),256))]))}}),U={class:"py-4 px-8 flex flex-col transition-all duration-300 rounded-lg items-center bg-white"},V={class:"m-4 p-2 text-2xl text-center transition-colors"},F={class:"m-8 text-base text-gray-500"},H=v({__name:"PostCard",props:{post:{}},setup(s){const n=s,i=P(),e=R(),r=p(()=>j.posts[n.post]);function a(){i.go(r.value.url)}return(d,l)=>(c(),f("div",U,[g("h2",V,m(r.value.title),1),g("article",F,m(r.value.excerpt),1),g("button",{class:"m-4 p-2 px-4 text-center select-none border border-solid border-gray-400 rounded-full text-gray-500 transition-all cursor-pointer hover:text-primary-500 hover:border-primary-500",onClick:l[0]||(l[0]=h=>a())},m(x(e).fullText),1)]))}}),L=v({__name:"Posts",props:{posts:{}},setup(s){const n=s,i=y(null),e=y({current:1,pageSize:10,total:p(()=>n.posts.length)});b(()=>e.value.total,()=>e.value.current=0),B(()=>{b(()=>e.value.current,()=>{var a;return window.scrollTo(0,((a=i.value)==null?void 0:a.offsetTop)??0)})});const r=p(()=>n.posts.slice((e.value.current-1)*e.value.pageSize,e.value.current*e.value.pageSize));return(a,d)=>(c(),f("div",{ref_key:"root",ref:i,class:"flex flex-col gap-8"},[(c(!0),f(w,null,$(r.value,l=>(c(),z(H,{post:l},null,8,["post"]))),256)),k(M,{current:e.value.current,"onUpdate:current":d[0]||(d[0]=l=>e.value.current=l),total:e.value.total},null,8,["current","total"])],512))}}),Q={class:"flex flex-col h-screen pb-12 justify-center items-center relative overflow-hidden"},A={class:"theme-font-primary text-8xl text-primary-800 pb-10 z-30"},G={class:"text-4xl text-primary-800 z-30"},Y=v({__name:"Home",setup(s){const{site:n}=T();return(i,e)=>(c(),z(q,{class:"home"},{header:C(()=>[g("div",Q,[g("h1",A,m(x(n).title),1),g("h2",G,m(x(n).description),1)])]),main:C(()=>[k(L,{class:"-mt-20",posts:x(D).timeline},null,8,["posts"])]),_:1}))}});export{Y as default};
