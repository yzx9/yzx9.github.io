<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP协议 | Zexin Yuan's blog</title>
    <meta name="description" content="Technique && Life">
    <meta name="generator" content="VitePress v1.0.0-rc.31">
    <link rel="preload stylesheet" href="/assets/style.7KPz2QOk.css" as="style">
    
    <script type="module" src="/assets/app.gAq3z2Ux.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.heUNgYAJ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.ieC1e_b3.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-817c8e44.dpIRLGqT.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-61eb444c.zw7h_gov.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-v2-2f8f667a.OPjcVpH1.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-9cfc3649.Zcpz2Ona.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-6b463803.HAEc5dLF.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-db6931fb.MpY6H5QL.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-a336098b.B9b6LpQL.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-a5166659.rYRD-Rk-.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-6c355bbc.2uPtYTXM.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-f746c04c.T1KcqWtS.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-4038b16c.Qg25LO_O.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-465a088a.nBbUtL6f.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-48ab76fb.Auywqfma.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-8ecb0bfc._zufkJKa.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-b620d43f.niEWTcTB.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-2671c3d1.NQr_BRr5.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-deae3313.y6MdK2G2.js">
    <link rel="modulepreload" href="/assets/chunks/flowchart-elk-definition-e097735e.H-m1ftw0.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-732a2638.Bb3fpnVU.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-617cf8dd.qNASTIdR.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-6db3d513.di2evce1.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.AhCe4kHV.js">
    <link rel="modulepreload" href="/assets/posts_2019_12_15_http-protocol.md.OelWw86h.lean.js">
    <link rel="icon" href="/icon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="layout page"><main class="layout__main"><!--[--><article class="page__article p-10 vp-doc max-w-none"><div style="position:relative;"><div><h1 id="http" tabindex="-1">HTTP <a class="header-anchor" href="#http" aria-label="Permalink to &quot;HTTP&quot;">​</a></h1><h2 id="基本结构" tabindex="-1">基本结构 <a class="header-anchor" href="#基本结构" aria-label="Permalink to &quot;基本结构&quot;">​</a></h2><h3 id="request" tabindex="-1">Request <a class="header-anchor" href="#request" aria-label="Permalink to &quot;Request&quot;">​</a></h3><p><img src="/assets/http-request.h65yYO7F.png" alt="http request"></p><blockquote><ol><li>换行为 \r\n (CRLF)</li><li>header 与 body 间存在 blank line</li></ol></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>GET /search?hl=zh-CN&amp;source=hp&amp;q=domety&amp;aq=f&amp;oq= HTTP/1.1  </span></span>
<span class="line"><span>Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, application/vnd.ms-excel, application/vnd.ms-powerpoint, </span></span>
<span class="line"><span>application/msword, application/x-silverlight, application/x-shockwave-flash, */*  </span></span>
<span class="line"><span>Referer: &lt;a href=&quot;http://www.google.cn/&quot;&gt;http://www.google.cn/&lt;/a&gt;  </span></span>
<span class="line"><span>Accept-Language: zh-cn  </span></span>
<span class="line"><span>Accept-Encoding: gzip, deflate  </span></span>
<span class="line"><span>User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; TheWorld)  </span></span>
<span class="line"><span>Host: &lt;a href=&quot;http://www.google.cn&quot;&gt;www.google.cn&lt;/a&gt;  </span></span>
<span class="line"><span>Connection: Keep-Alive  </span></span>
<span class="line"><span>Cookie: PREF=ID=80a06da87be9ae3c:U=f7167333e2c3b714:NW=1:TM=1261551909:LM=1261551917:S=ybYcq2wpfefs4V9g; NID=31=ojj8d-IygaEtSxLgaJmqSjVhCspkviJrB6omjamNrSm8lZhKy_yMfO2M4QMRKcH1g0iQv9u-2hfBW7bUFwVh7pGaRUb0RnHcJU37y-FxlRugatx63JLv7CWMD6UB_O_r</span></span></code></pre></div><h4 id="method" tabindex="-1">method <a class="header-anchor" href="#method" aria-label="Permalink to &quot;method&quot;">​</a></h4><p>语义规定，无强约束</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>GET // 页面访问, 一般不包含 body, 数据以 url 形式出现在 &lt;request-line&gt;</span></span>
<span class="line"><span>POST // 表单提交</span></span>
<span class="line"><span>PUT</span></span>
<span class="line"><span>DELETE</span></span>
<span class="line"><span>HEAD</span></span>
<span class="line"><span>OPTIONS // CORS</span></span>
<span class="line"><span>CONNECT // 现在多用于 HTTPS/WebSocket</span></span>
<span class="line"><span>TRACE // 据说用于调试</span></span></code></pre></div><h4 id="head" tabindex="-1">head <a class="header-anchor" href="#head" aria-label="Permalink to &quot;head&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>User-Agent // 产生请求的浏览器类型</span></span>
<span class="line"><span>Referer // 当前请求页面的来源页面的地址</span></span>
<span class="line"><span>Connection: Keep-Alive</span></span>
<span class="line"><span>Cookie</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 客户端可识别的内容类型列表。</span></span>
<span class="line"><span>Accept</span></span>
<span class="line"><span>Accept-Language</span></span>
<span class="line"><span>Accept-Encoding</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 请求的主机名，允许多个域名同处一个IP地址，即虚拟主机。</span></span>
<span class="line"><span>Host</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// body 格式</span></span>
<span class="line"><span>Content-Type</span></span>
<span class="line"><span>Content-Length</span></span></code></pre></div><h3 id="response" tabindex="-1">Response <a class="header-anchor" href="#response" aria-label="Permalink to &quot;Response&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>HTTP/1.1 200 OK</span></span>
<span class="line"><span>Date: Sat, 31 Dec 2005 23:59:59 GMT</span></span>
<span class="line"><span>Content-Type: text/html;charset=ISO-8859-1</span></span>
<span class="line"><span>Content-Length: 122</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;html&gt;</span></span>
<span class="line"><span>  &lt;head&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Wrox Homepage&lt;/title&gt;</span></span>
<span class="line"><span>  &lt;/head&gt;</span></span>
<span class="line"><span>  &lt;body&gt;</span></span>
<span class="line"><span>    &lt;!-- body goes here --&gt;</span></span>
<span class="line"><span>  &lt;/body&gt;</span></span>
<span class="line"><span>&lt;/html&gt;</span></span></code></pre></div><h4 id="status-code" tabindex="-1">status code <a class="header-anchor" href="#status-code" aria-label="Permalink to &quot;status code&quot;">​</a></h4><ul><li><p>1xx: 临时回应，希望客户端继续处理</p></li><li><p>2xx: 200 OK</p></li><li><p>3xx: 请求目标有变化，希望客户端进一步处理</p><ul><li>301 永久性跳转</li><li>302 临时性跳转</li><li><strong>304</strong> 客户端本地已经有缓存的版本，并且在 Request 中告诉了服务端，当服务端通过时间或 tag 发现没有更新的时候，就会返回一个不含 body 的 304 状态</li></ul></li><li><p>4xx: 客户端请求错误</p><ul><li>400 Bad Request</li><li>403 无权限</li><li>404 页面不存在</li><li>418 It’s a teapot.</li></ul></li><li><p>5xx: 服务器处理错误</p><ul><li>500 服务器错误</li><li>503 服务器暂时性错误</li></ul></li></ul><h4 id="status-text" tabindex="-1">status text <a class="header-anchor" href="#status-text" aria-label="Permalink to &quot;status text&quot;">​</a></h4><p>相同状态码不一定具有相同 status text</p><h2 id="http1-1" tabindex="-1">HTTP1.1 <a class="header-anchor" href="#http1-1" aria-label="Permalink to &quot;HTTP1.1&quot;">​</a></h2><p>HTTP1.1 为目前使用最广泛的 HTTP 协议</p><h3 id="与-http1-0-的区别" tabindex="-1">与 HTTP1.0 的区别 <a class="header-anchor" href="#与-http1-0-的区别" aria-label="Permalink to &quot;与 HTTP1.0 的区别&quot;">​</a></h3><ol><li><strong>缓存处理</strong>: <code>E-tag</code>, <code>If-Unmodified-Since</code>, <code>If-Match</code>, <code>If-None-Match</code></li><li><strong>带宽优化及网络连接的使用</strong>: 允许请求资源某个部分, 响应 206 (Partial Content), 引入<code>range</code>头域</li><li><strong>错误通知管理</strong>: 新增 24 个错误状态响应码</li><li><strong>Host头处理</strong>: 支持同一IP地址上的多个虚拟主机, 如果请求中没有<code>Host</code>头域, 报告 400 Bad Request</li><li><strong>长连接</strong>: 支持长连接 (Persistent Connection) 和请求的流水线 (Pipelining) 处理, 默认开启<code>Connection: keep-alive</code></li></ol><blockquote><p>HTTP1.1 Pipelining, 若干个请求排队串行化单线程请求, 后面请求需要等待前面请求返回, 可能存在线头阻塞</p></blockquote><p><img src="/assets/http-parallel-connect.qypkL-GM.jpg" alt="Roundup on Parallel Connections"></p><p>来源: <a href="http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/" target="_blank" rel="noreferrer">Roundup on Parallel Connections</a></p><h2 id="https" tabindex="-1">HTTPS <a class="header-anchor" href="#https" aria-label="Permalink to &quot;HTTPS&quot;">​</a></h2><ol><li>HTTPS 协议协议需要到 CA 申请证书</li><li>HTTP 直接运行在 TCP 上, HTTPS 运行在 SSL/TLS 上, SSL/TLS 运行在 TCP 上, 所有传输内容均经过加密</li><li>默认端口不同, HTTP 默认端口为 80, HTTPS 默认端口为 443</li><li>HTTPS 可以有效防止运营商劫持</li></ol><h2 id="网速优化" tabindex="-1">网速优化 <a class="header-anchor" href="#网速优化" aria-label="Permalink to &quot;网速优化&quot;">​</a></h2><p>影响HTTP网络请求的主要因素有<strong>带宽</strong>和<strong>延迟</strong>, 伴随着网络基础设施建设, 带宽已经得到了极大的提升, 影响网速的主要因素成为了延迟, 延迟主要有三种:</p><h3 id="浏览器阻塞-hol-blocking" tabindex="-1">浏览器阻塞 (HOL blocking) <a class="header-anchor" href="#浏览器阻塞-hol-blocking" aria-label="Permalink to &quot;浏览器阻塞 (HOL blocking)&quot;">​</a></h3><p>浏览器会因为一些原因阻塞请求.</p><p>浏览器对于同一域名, 同时最多四个请求 (根据浏览器内核版本不同有所差异)</p><h3 id="dns查询-dns-lookup" tabindex="-1">DNS查询 (DNS Lookup) <a class="header-anchor" href="#dns查询-dns-lookup" aria-label="Permalink to &quot;DNS查询 (DNS Lookup)&quot;">​</a></h3><p>利用 DNS 缓存优化</p><h3 id="建立连接-initial-connection" tabindex="-1">建立连接 (Initial connection) <a class="header-anchor" href="#建立连接-initial-connection" aria-label="Permalink to &quot;建立连接 (Initial connection)&quot;">​</a></h3><p>HTTP 基于 TCP, 浏览器最快也需要在第三次握手才能捎带 HTTP 报文, 会导致每次请求都经历<strong>三次握手</strong>和<strong>慢启动</strong>, 其中三次握手在高延迟场景下较明显, 慢启动对于文件类大请求影响较大</p><blockquote><p>最初的 TCP 在连接建立成功后会向网络中发送大量的数据包, 这样很容易导致网络中路由器缓存空间耗尽, 从而发生拥塞. 因此新建立的连接不能够一开始就大量发送数据包, 而只能根据网络情况逐步增加每次发送的数据量, 以避免上述现象的发生.</p></blockquote><blockquote><p>慢启动会让原本就具有突发性和短时性的 HTTP 连接变得十分低效</p></blockquote><h2 id="http2-0" tabindex="-1">HTTP2.0 <a class="header-anchor" href="#http2-0" aria-label="Permalink to &quot;HTTP2.0&quot;">​</a></h2><p><img src="data:image/jpeg;base64,UklGRhAKAABXRUJQVlA4IAQKAACwQwCdASovAoQAPpFGnkulo6KhobQKeLASCWNu4Wyp9rW430Z3YD5LTorX/u/kbnAeYB+o/S98wHmw/471HegB0hf7SexX5cXsc/2v/q5VJ4w/xfaP/k+iV8/5l2Wu0f+TfZ79j/WuIH07+oF+L/y/dCQAfk39m77L+k9CPEA/k/9c/4frD3g1Aj+c/3v/q+y7/Vf+jyrfVP/o/zPwD/zL+4dYf0H/2jHdBy5DhYwUmwNt9P+ufY6DlyHCxTINX7Zs436QAw38ahfDORYYs7gPn4Q4WMFJsDVjJ7fT/myztU1ogP2R8TlmB5VMhbCPYscbnJPlmRynFFIAgRisc2W7iwQ9FeeyXDhYwUmwHMnDfgDNzU7xsjh7sYKRaa0RgwE+d0iFDwyqDHQyn2K7pCDbso8rRERXao0cOfzDuT2+n/XPsGg/DyrdRxEAvY2WGQFNxSIWw9K5c/diAmrFCWVZMdA2PzIKEH48XpxUR/exXRC8T+9iuiF4ne3nWUVfO8QlQ4C7fuIjoreD7A2ZnJ0Kx/1z7HQcs26rxN9wa6wsrcyI5UPWqaHEknqVC82Iv7Vh80wIAdCd5qV8r+p1jwvy26lhXBEmS92zHzNWovzAwjnI6i/MDCOcjqL8wMI5yOovzAwjnI6dMzjJ6bIsdrX4gN05Nxgl7mDHeqBf1oLdpCqtjCO5Z+VDhYwUmwHsxwPD8M+psDbfT/rn2Og5chwsYKTYG27gAP7+OAAADGYLKL3EbIxetx5e9UtU1qoNuI8k9f8cogxCGoCVPu6wk1raVlgvDKiWWrz/GY9lYeXAOWjryWWu8BsI4HDen4S1mtPRjuANPjQ/Q3qcjLTDDJRu4H6RRVL6eEIeabF+Fua4dzxnzaQW9o/k0RTCXudulvc6BOoSABNl7pGXJQx/GFbGBos7UNpSL/w3fqZSGAW6IHotqtsO43SQbejmJHejXepLHpZGAHeKZXl9d8/vqeO/T4ifevjbJx1xGSfNktKcQ3dKjLkUqvRWEm1jxft9pO00vu/+tdq26afC6djbDTl82RPGQ1nF7OJyMLMYLSKblXOlb8lV2CmqoV961/gpMSZFandzkz4z9If6zt79EOgMh+C7eO/N51DWGeknIcPz94zaI8oXlLr06NgTbt43BoDG3qBvcUoHIYzmCEBI3XslQ3vfMPBNfkSAZY/I44BsM0DwhoLVF2gHk1wpedHOPtGzelefblidTRIJtjOA/CeB9MCjphUpTHYYg7tJpiKvgTQw52bDuzbxB3UV2X6i3KtNKrVm2KN0Tp4P08+AYVvcHUMN+agFerKVPU+t9ZFCsMn/0OQouPi+iRUlmof34iQ3curCyAM/es/eu2qooYQ1NVNFfO16uJWcyKUAM7M+wQNeRbOHbZwH41AQkdQOH/EGciR6QzUxcdncPCQ+e5+FrjUt/G+r+vFxjyeAEsOlHNTPYNrMc2uxFptgshp5lM3YDD8OsBt+IMz+mrfPgn9P0PNKs4ABJTGMyzdC3hKHpk/cMZdBumBcT+sWVXJHIhA8YtgWEqG+0PJMOOxFDb8PE6+CJUlEOYru7F70t9fmwvef9yZzG3Fr78dp7s2TNbismggQJfDbSD7d7BrY/dqmUhF3H2eIdfo2Ngenp3hpRxVGIHGsHFp102TFS/BvTxV7tZ9i/0aYPy1yM7VBe9w4CiNVrN8l+Ulh+ihoQteWRljYghqH4KRMpUjvsYNEzncoj5YvbVqHCrowRq5cs4Lj/PGTsWGVcWs9H23+FsoCRjdc/VG+vdSbn6crSjxaazBmkjNjUS8sQbsHg/g8kFzsPiZDJoRtOls8yQv67K5WP88ZOxYaUYv7nEl6z08d51pSHSxa/lm0VFU5pTzzc8L//p/uUZ/wyjX8tBT6uoSZdJXixijtybMY9q6wSUs7ys2kc/3On/4sbjp12vwFhjzTnv6eSoaY9dgizLvzDdHwlj9xRklWVU+b9qVk9oLA4758mnBE5D3we61rWDmgj6j6SGP+izWpsHVICDhSzAe+qMpatdyuNuophG//6EuY8UKmboZkEwaTYkcvcbEJWe8GzvDA+mKi/N+dbti6WjgaRn3H3AEOl1lxGzZRxkSNCExvYIBBmBrX4AaUPI30sFx/gmBnn/EL0id8drS4mj3gURlNHGl9+TFO/+cFsoLcC6oiFw9CY60HzNwYDGTUJP/ieHShkE/JP8G+loUokBQxp09PsCG1YO225/vEn0fyXYvAJ3VKU1/yWv5CjOMvs8qpguWEobKpB1AsFc+NDXTYfyplytqxwTgIVEA9siSqAagcUeS/vzldxzVOQfZfi44H7rGJjPSQJ/s0EkyuT4KBMg1h+7++cF7nHtRDausUCXdg/iWxckbYsq2/AtFo1Dz7gz4Ar5kMCZ6whWDwYmdLZ+ABgp5cBpk9ihHLoFmsvSf1EvM58gkoq3UPsa+UFBtr1bmxYgDJ1k0u4xYLw+wkFfc+JBeLa68GP63fWvcccHC6DZLFIUNS34gHVZ7F2a6m8N4kWDeep+a/fZM0ETX5OfwtnX4eehs8HO7KPIvdXp/XBfCKe1uS/WvE9DQOLMcuPgCS5qPGEF0PFQY1oFAPcsepz7cjG3rwtqrevW7oGuFj97i4BkqFM/VOAZH8K89BN/C4Mw+FWn3cKxgM98JUBFy0x9g4uKXNh1pq/hEI9IF4742M0gw0/iTG1wGAGmXsbHjGiQxeltwz5eA+6FI+soFgkL3vhPoZyAwaagW0PLue1WwI6T0S0uTzl77SWVdfiRE4tAp054Z6lLrq8kOmDlfgx5VO/vyLvBOI+1bEP4tDPG0SJOnc4q1eM7rYWbJmNyqf/A2MYd+Jy5HAyyZuVrZ8KR4nyqCfxKaJiVZq+tWWWL8280qAkl/dU7xyaTiWP3MXVMxHqfTGf9vyw8igjksAAAsh4weJ2rXAR+fKTK5KzVsLIP0+/QqdUeOMo8LicjiEv/HRsKqOwjfO11xONH/uUw3VL8T/EaDfyIvgfdYyIhoDp4L+bc+4AcpNbK3lJH4u5ftjoXFCXtO8ILoVkeBfTz98g4KKz17yMS/tnPkbUMtFZKaiM2euG74Xs69Tv7h6TwXuN8NIz4Litm4Z5YNTtkOi8ZfCX57SCBj8AWylH7i8L5TB4NMQp4XSWvsZNz1FM0V2zV+83Jpy9iwdvoW43KiasLApOIIOMGCWFc7JUATOtrJ9J/MAlOCStZxvVHx/Qg/nN7ibRTC7AoFJucZObTwDR7jaFYIeantwBPyBrm6fQaPuOv1NKbdz/d8Nb/I/krYaMT1hF6g/4Js5oLbbbUpIUDGqcwQzW0wE7PIzNjwrDE1i+EGIbexY93AdGUk79nwfa2UDjflZrd2G3usKrZ/0zisfklbctmejGbUvEdgXHL2cl8o1AFYZAASZgAAAAA==" alt="HTTP History"></p><h3 id="spdy" tabindex="-1">SPDY <a class="header-anchor" href="#spdy" aria-label="Permalink to &quot;SPDY&quot;">​</a></h3><p>谷歌于 2012 年提出了 SPDY 方案, 优化 HTTP1.X 请求延时, 解决了 HTTP1.X 的安全性, SPDY 位于 HTTP 下, TCP 和 SSL 上, 兼容 HTTP, 同时可以使用已有 SSL 功能</p><ol><li><strong>降低延迟</strong>, 通过多路复用 (multiplexin) 共享 TCP 连接, 解决 HOL blockin</li><li><strong>请求优先级</strong>, 防止 multiplexing 导致的关键请求被阻塞问题</li><li><strong>header 压缩</strong></li><li><strong>基于HTTPS的加密协议传输</strong></li><li><strong>服务器端推送 (Server Push)</strong></li></ol><h3 id="http2-0-基于-spdy" tabindex="-1">HTTP2.0 基于 SPDY <a class="header-anchor" href="#http2-0-基于-spdy" aria-label="Permalink to &quot;HTTP2.0 基于 SPDY&quot;">​</a></h3><p>区别:</p><ol><li>HTTP2.0 支持明文传输, 而 SPDY 强制 HTTPS</li><li>HTTP2.0 header 压缩算法采用 HPACK, 而 SPDY 采用 deflate</li></ol><h3 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h3><ol><li><strong>二进制格式 (Binary Format)</strong></li><li><strong>多路复用 (MultiPlexing)</strong></li><li><strong>header 压缩</strong> 通讯双方各自 cache 一份 header fields 表</li><li><strong>服务器端推送 (Server Push)</strong></li></ol><blockquote><p>在不改动 HTTP/1.x 的语义、方法、状态码、URI 以及首部字段….. 的情况下, HTTP/2 是如何做到「突破 HTTP1.1 的性能限制，改进传输性能，实现低延迟和高吞吐量」的 ? 关键之一就是在 应用层(HTTP/2)和传输层(TCP or UDP)之间增加一个二进制分帧层。 <img src="/assets/http2.0-binary-framing.eQqxf0sa.jpg" alt="HTTP/2 Binary Framing"> :::</p></blockquote><h3 id="multiplexing-与-pipelining-区别" tabindex="-1">MultiPlexing 与 Pipelining 区别? <a class="header-anchor" href="#multiplexing-与-pipelining-区别" aria-label="Permalink to &quot;MultiPlexing 与 Pipelining 区别?&quot;">​</a></h3><p><img src="/assets/multi-plexing-and-pipelining.ggP3bx17.jpg" alt="Different between MultiPlexing and Pipelining"></p></div></div></article><div class="px-10 flex flex-col items-end"><div class="my-2 font-bold">Zexin Yuan</div><div class="text-sm" title="2019-12-15T10:45:02.000Z">2019-12-15</div></div><div class="w-full px-10 my-8 flex flex-col text-gray-600"><div class="my-4 border-t"></div><div class="flex justify-between my-4"><!--[--><!--[--><div class="navigator__prev border-b border-transparent cursor-pointer overflow-hidden whitespace-nowrap text-ellipsis transition-colors hover:border-primary-500 hover:text-primary-500">TypeScript 基本语法</div><!--]--><!--[--><div class="navigator__next border-b border-transparent cursor-pointer overflow-hidden whitespace-nowrap text-ellipsis transition-colors hover:border-primary-500 hover:text-primary-500">TCP协议</div><!--]--><!--]--></div></div><!--]--></main><aside class="layout__sub"><!--[--><section class="siderbar"></section><!--]--></aside><aside class="layout__extra"><!--[--><section class="sticky top-12 p-4 mr-8"><!--[--><h3 class="pb-1 font-bold">On this page</h3><ul><!--[--><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300 catalog__item--expand"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">HTTP</a><ul class="pl-4"><!--[--><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">基本结构</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">HTTP1.1</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">HTTPS</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">网速优化</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">HTTP2.0</a><!----></li><!--]--></ul></li><!--]--></ul><!--]--></section><!--]--></aside><header class="layout__header"><!--[--><div class="header relative h-full flex flex-col justify-center items-center px-16 overflow-hidden"><div class="flex flex-col items-start"><div class="z-30 min-w-max"><!--[--><a class="header__pill-link mr-2 px-3 py-1 border rounded-full cursor-pointer transition-colors duration-300" style="--pill-link-color:3 169 244;" title="HTTP">HTTP</a><!--]--></div><h1 class="my-6 z-30 text-8xl font-medium">HTTP协议</h1></div><div class="text-sm"><span class="pr-2">分类于</span><!--[--><!--[--><span class="underline cursor-pointer transition-colors hover:text-primary-500" title="Computer Science">计算机科学</span><!--[--><span class="px-1">&gt;</span><!--[--><!--[--><span class="underline cursor-pointer transition-colors hover:text-primary-500" title="Network">计算机网络</span><!----><!----><!--]--><!--]--><!--]--><!----><!--]--><!--]--></div><!----></div><!--]--></header><footer class="layout__footer"><!--[--><div class="flex flex-col items-center m-4 py-4 text-gray-400 text-sm"><span>Copyright © 2019 – 2023 Zexin Yuan</span><span>Powered by <a href="https://vitepress.dev/" target="_blank" class="underline">Vitepress</a> and <a href="https://github.com/yzx9/vitepress-theme-celesta" target="_blank" class="underline">Theme Celesta</a></span></div><!--]--></footer><nav class="layout__nav overflow-hidden z-50"><!--[--><div class="navbar absolute top-0 left-0 w-full flex justify-between z-50 transition-all"><!--[--><ul class="flex"><!--[--><li class="navbar__link-home navbar__link flex justify-center items-center transition-all font-medium"><a class="font-bold h-full px-4 align-middle cursor-pointer">ZEXIN YUAN&#39;S BLOG</a></li><!--]--></ul><ul class="flex"><!--[--><li class="navbar__link-archives navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">ARCHIVES</a></li><li class="navbar__link-categories navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">CATEGORIES</a></li><li class="navbar__link-tags navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">TAGS</a></li><li class="navbar__link-about navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">ABOUT</a></li><!--]--></ul><!--]--></div><!--]--></nav><!----></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"readme.md\":\"mbF2uDUR\",\"drafts_error-handing-in-go.md\":\"e_J_JZHQ\",\"drafts_coffee_coffee-waves.md\":\"C91k905T\",\"drafts_coffee_from-seed-to-cup.md\":\"vmrH0GlB\",\"posts_2019_10_28_browser-rendering-process.md\":\"LhNNJCvf\",\"about.md\":\"aPvlBxvz\",\"drafts_coffee_coffee-process.md\":\"i83Vc9ZC\",\"posts_2021_02_15_how-to-read-a-book.md\":\"kOuB7oTn\",\"posts_2021_01_20_coffee.md\":\"38j7FIjD\",\"index.md\":\"DpYZUip9\",\"posts_2019_03_16_oauth2.md\":\"Rov4dQnq\",\"posts_2019_03_16_json-web-token.md\":\"gLhxUsWB\",\"posts_2021_01_02_huffman-tree.md\":\"7P1snOwv\",\"posts_2019_10_24_linear-list.md\":\"pudYwUv7\",\"posts_2021_01_02_avl-tree.md\":\"NBceW6Gl\",\"posts_2019_10_24_string.md\":\"w6r9Nrpv\",\"posts_2019_10_28_browser-same-origin-policy.md\":\"0_3klqaD\",\"posts_2021_01_01_instruction-fetch.md\":\"LH0lGhOG\",\"posts_2021_02_14_b-tree.md\":\"lHeyvYn1\",\"posts_2019_12_08_basic-grammar-of-typescript.md\":\"V9eVIisi\",\"posts_2021_01_02_tree-and-forest.md\":\"A3g01XYT\",\"posts_2019_12_08_note-for-vue2.md\":\"us3MNDJz\",\"posts_2019_10_24_sort.md\":\"dMaqW5x6\",\"posts_2020_12_31_binary-system.md\":\"UyttJv2m\",\"posts_2019_12_18_tcp-protocol.md\":\"TvXGLdLi\",\"drafts_coffee_coffee-cupping.md\":\"7eykArZU\",\"posts_2021_01_02_angularjs-git-commit-message-conventions.md\":\"rcQAwypz\",\"drafts_coffee_gold-cup-standard.md\":\"dUvdF4sg\",\"posts_2021_01_02_binary-sort-tree.md\":\"fKWwhbM1\",\"posts_2019_10_24_graph.md\":\"QfBRWa-7\",\"posts_2019_07_28_high-performance-web-sites-essential.md\":\"3CIlUx8h\",\"posts_2019_10_24_hash.md\":\"uGNMnxN2\",\"posts_2019_12_15_http-protocol.md\":\"OelWw86h\",\"posts_2021_03_10_implement-of-ll1-grammar.md\":\"iHCsV8Rq\",\"posts_2021_03_19_down-top-grammar-analysis.md\":\"gyDyNP4o\",\"posts_2021_06_29_learn-sql-in-10-minutes.md\":\"GNXPqG-P\",\"posts_2021_03_03_some-regular-grammar.md\":\"Ocnm__N7\",\"posts_2021_09_07_matrix-theory-1.md\":\"ZySr9T1w\",\"posts_2021_10_31_games101.md\":\"hTfkc6vX\",\"posts_2021_05_22_vue-conf-21.md\":\"uwOw46sw\",\"posts_2021_03_13_sdd-and-sdt.md\":\"wTqNj9wQ\",\"posts_2021_03_11_naming-for-clean-code.md\":\"l-BdEaMP\",\"posts_2021_06_19_rust-and-ownership.md\":\"bNgm5KjL\",\"posts_2021_02_26_regular-grammar-and-automata.md\":\"w1x80IYP\",\"posts_2022_04_02_pipeline-in-go.md\":\"xsVNoKSy\",\"posts_2021_12_14_games101-material.md\":\"vauHDbcG\",\"posts_2023_08_14_cns2023-s46.md\":\"iv1iuySn\",\"posts_2022_04_04_cancel-goroutine.md\":\"VRKnsS3d\",\"posts_2023_11_08_nervous-system.md\":\"fPfTx3Ve\",\"posts_2023_11_09_neuron.md\":\"QkTzGdZr\",\"posts_2023_12_10_neuron-electrical-activity.md\":\"j0mYRdko\",\"posts_2021_12_18_games101-animation-simulation.md\":\"bZBC0ELr\",\"posts_2021_03_16_is-it-an-ll1-grammar.md\":\"CoeCsr3L\",\"posts_2023_11_13_neuron-activity-principle.md\":\"B73r2cZt\",\"posts_2022_04_29_architectures-of-ddd.md\":\"I-3EEqYf\",\"posts_2021_03_11_clean-code.md\":\"vDzS8uan\",\"posts_2021_11_18_games101-geometry.md\":\"QGv74mZj\",\"posts_2021_02_16_propositional-calculus.md\":\"x0PQymIy\",\"posts_2021_11_13_games101-rasterization.md\":\"aT3JQKTI\",\"posts_2023_12_11_neurotransmitters-receptors.md\":\"EbqbbWSJ\",\"posts_2022_03_28_concurrency-tools-in-go.md\":\"Pvr26_dt\",\"posts_2021_12_16_games101-light-transport.md\":\"8g4qC8aJ\",\"posts_2021_11_30_games101-ray-tracing.md\":\"QXLupLAL\",\"posts_2021_03_08_top-down-grammar-parsing.md\":\"SA-Qg1ZO\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"中文\",\"lang\":\"zh\",\"title\":\"Zexin Yuan's blog\",\"description\":\"Technique && Life\",\"themeConfig\":{\"author\":\"Zexin Yuan\",\"tag\":{\"Computer Science\":\"计算机科学\",\"Computer Organization\":\"计算机组成\",\"Computer Graphics\":\"计算机图形学\",\"Data Structure\":\"数据结构\",\"Software Engineering\":\"软件工程\",\"Architecture\":\"架构\",\"Tree\":\"树\",\"Network\":\"计算机网络\",\"Performance\":\"性能\",\"Authorization\":\"认证\",\"Front End\":\"前端\",\"Browser\":\"浏览器\",\"Compiler\":\"编译原理\",\"Grammar\":\"语法\",\"Automata\":\"自动机\",\"Life\":\"日常\",\"Coffee\":\"咖啡\",\"Course\":\"课程\",\"Math\":\"数学\",\"Discrete Mathematical\":\"离散数学\"},\"category\":{\"Computer Science\":\"计算机科学\",\"Computer Organization\":\"计算机组成\",\"Computer Graphics\":\"计算机图形学\",\"Data Structure\":\"数据结构\",\"Software Engineering\":\"软件工程\",\"Architecture\":\"架构\",\"Tree\":\"树\",\"Network\":\"计算机网络\",\"Performance\":\"性能\",\"Authorization\":\"认证\",\"Front End\":\"前端\",\"Browser\":\"浏览器\",\"Compiler\":\"编译原理\",\"Grammar\":\"语法\",\"Automata\":\"自动机\",\"Life\":\"日常\",\"Coffee\":\"咖啡\",\"Course\":\"课程\",\"Math\":\"数学\",\"Discrete Mathematical\":\"离散数学\"}}}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>