<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Conf 21 | Zexin Yuan's blog</title>
    <meta name="description" content="Technique && Life">
    <meta name="generator" content="VitePress v1.0.0-rc.31">
    <link rel="preload stylesheet" href="/assets/style.7KPz2QOk.css" as="style">
    
    <script type="module" src="/assets/app.gAq3z2Ux.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.heUNgYAJ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.ieC1e_b3.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-817c8e44.dpIRLGqT.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-61eb444c.zw7h_gov.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-v2-2f8f667a.OPjcVpH1.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-9cfc3649.Zcpz2Ona.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-6b463803.HAEc5dLF.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-db6931fb.MpY6H5QL.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-a336098b.B9b6LpQL.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-a5166659.rYRD-Rk-.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-6c355bbc.2uPtYTXM.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-f746c04c.T1KcqWtS.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-4038b16c.Qg25LO_O.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-465a088a.nBbUtL6f.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-48ab76fb.Auywqfma.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-8ecb0bfc._zufkJKa.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-b620d43f.niEWTcTB.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-2671c3d1.NQr_BRr5.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-deae3313.y6MdK2G2.js">
    <link rel="modulepreload" href="/assets/chunks/flowchart-elk-definition-e097735e.H-m1ftw0.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-732a2638.Bb3fpnVU.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-617cf8dd.qNASTIdR.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-6db3d513.di2evce1.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.AhCe4kHV.js">
    <link rel="modulepreload" href="/assets/posts_2021_05_22_vue-conf-21.md.uwOw46sw.lean.js">
    <link rel="icon" href="/icon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="layout page"><main class="layout__main"><!--[--><article class="page__article p-10 vp-doc max-w-none"><div style="position:relative;"><div><h1 id="vue-conf-21" tabindex="-1">Vue Conf 21 <a class="header-anchor" href="#vue-conf-21" aria-label="Permalink to &quot;Vue Conf 21&quot;">â€‹</a></h1><h2 id="vite" tabindex="-1">Vite <a class="header-anchor" href="#vite" aria-label="Permalink to &quot;Vite&quot;">â€‹</a></h2><h3 id="ä¸ºä»€ä¹ˆæ›´å¿«" tabindex="-1">ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ›´å¿«" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ&quot;">â€‹</a></h3><p>Vite å¿«é€Ÿçš„æ ¸å¿ƒåŸå› æ—¶æ”¹å˜äº†åŸæœ‰çš„ Bundler-Based Dev Serverï¼Œè€Œé‡‡ç”¨ ESM-Based Dev Server æ–¹æ¡ˆã€‚Bundle-Base çš„æ–¹æ¡ˆä¸­ï¼Œ<strong>Full Bundler</strong> å†³å®šäº†å¼€å‘æœåŠ¡å™¨çš„æ¯æ¬¡å¯åŠ¨éƒ½ååˆ†ä½æ•ˆï¼Œéœ€è¦ä»å…¥å£æ–‡ä»¶è§£ææ•´ä¸ªä¾èµ–æ ‘å¹¶å°†å…¶æ‰“åŒ…ã€‚è€Œå…¨æ–°çš„ ESM-Based å¼€å‘æœåŠ¡å™¨åªéœ€è¦åšæ¯ä¸ªæ–‡ä»¶çš„ <strong>Transform</strong>ï¼Œæ–‡ä»¶ä¾èµ–è§£æåˆ™äº¤ç”± ESM å®Œæˆï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå¼€å‘æœåŠ¡å™¨çœŸçš„å°±åªéœ€è¦ç›‘å¬ä¸€ä¸ªç«¯å£é‚£ä¹ˆç®€å•ï¼</p><blockquote><p>å…¶å®å¯èƒ½è¿˜æœ‰ä¾èµ–é¢„æ„å»ºï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯ä¸ºäº†æ›´å¿«</p></blockquote><h3 id="ssr-ç›®æ ‡" tabindex="-1">SSR ç›®æ ‡ <a class="header-anchor" href="#ssr-ç›®æ ‡" aria-label="Permalink to &quot;SSR ç›®æ ‡&quot;">â€‹</a></h3><ul><li>Dev Bundless</li><li>Node ç¯å¢ƒä¸‹åŠ è½½ ESM <ul><li>å…¼å®¹ Node ä½ç‰ˆæœ¬</li><li>å…¼å®¹ç”Ÿæ€ç¯å¢ƒ</li></ul></li><li>æ”¯æŒ HMR+Plugin</li></ul><h2 id="ç¼–è¯‘ä¼˜åŒ–æ€è·¯" tabindex="-1">ç¼–è¯‘ä¼˜åŒ–æ€è·¯ <a class="header-anchor" href="#ç¼–è¯‘ä¼˜åŒ–æ€è·¯" aria-label="Permalink to &quot;ç¼–è¯‘ä¼˜åŒ–æ€è·¯&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* create  */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* mount   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* patch   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* destory */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @vue/reactive</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* create  */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* mount   */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* destory */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="element3" tabindex="-1">Element3 <a class="header-anchor" href="#element3" aria-label="Permalink to &quot;Element3&quot;">â€‹</a></h2><ul><li>Headless/Styled</li><li>webGL -&gt; æè´¨</li></ul><h2 id="æ–°ä¸€ä»£æ„å»ºå·¥å…·" tabindex="-1">æ–°ä¸€ä»£æ„å»ºå·¥å…· <a class="header-anchor" href="#æ–°ä¸€ä»£æ„å»ºå·¥å…·" aria-label="Permalink to &quot;æ–°ä¸€ä»£æ„å»ºå·¥å…·&quot;">â€‹</a></h2><blockquote><p>åˆ«è®©æ„å»ºæµç¨‹æˆä¸ºæŠ€æœ¯åŒ…è¢±</p></blockquote><p><img src="/assets/the-next-builder.Qz7ykyER.png" alt="The Next Builder"></p><h3 id="type-first" tabindex="-1">Type First <a class="header-anchor" href="#type-first" aria-label="Permalink to &quot;Type First&quot;">â€‹</a></h3><p>Type First, ç±»å‹ä¼˜å…ˆ -&gt; TypeScript</p><ul><li>ç±»å‹æç¤º</li><li>æ™ºèƒ½è¡¥å…¨</li><li>çœä¸‹å†™æ–‡æ¡£çš„æ—¶é—´</li><li>æ–¹ä¾¿é‡æ„</li></ul><h3 id="å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–" tabindex="-1">å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤– <a class="header-anchor" href="#å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–" aria-label="Permalink to &quot;å°†ç±»å‹æ£€æŸ¥æ”¾åˆ°ç¼–è¯‘å¤–&quot;">â€‹</a></h3><ul><li>esbuild: å•çº¯çš„ TypeScript è¯æ³•æ‰©å±•å¹¶ä¸ä¼šè®©ç¼–è¯‘å˜æ…¢</li><li>æŠŠ tsc ä½œä¸º lint çš„ä¸€éƒ¨åˆ†</li></ul><h3 id="be-explicit" tabindex="-1">Be Explicit <a class="header-anchor" href="#be-explicit" aria-label="Permalink to &quot;Be Explicit&quot;">â€‹</a></h3><ul><li><p>ç”¨ define* çš„å¸®åŠ©å‡½æ•°ï¼šç±»å‹è¡¥å…¨</p></li><li><p>ä¸è¦çœç•¥æ–‡ä»¶åï¼šç±»å‹</p></li></ul><h3 id="module-by-default" tabindex="-1">Module By Default <a class="header-anchor" href="#module-by-default" aria-label="Permalink to &quot;Module By Default&quot;">â€‹</a></h3><ul><li><p>æ‹¥æŠ± ES Module</p></li><li><p>é‡æ–°çœ‹å¾… Externalsï¼Œåœ¨ ESM æ—¶ä»£ï¼Œç®€å•çš„ Externals å¹¶ä¸å¥½ç”¨</p><ul><li>alias</li><li>import maps</li></ul></li><li><p><code>__filename</code> / <code>__dirname</code> / <code>require.resolve</code> =&gt; <code>import.meta.url</code></p></li><li><p><code>process.env</code> =&gt; <code>import.meta.env</code></p><ul><li>æ¥è‡ª Node.jsï¼Œç¯å¢ƒå¹¶ä¸å­˜åœ¨</li><li>æµè§ˆå™¨ç«¯çš„ <code>process.env</code> å¹¶ä¸æ˜¯ç¯å¢ƒï¼Œè€Œæ˜¯é…ç½®</li><li><code>NODE_ENV</code>æœ‰å„ç§çº¦å®šä¿—ç§°çš„ç”¨æ³•</li></ul></li><li><p>JSON modules =&gt; æ ‡å‡†åªæœ‰ default import</p></li></ul><h3 id="æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜" tabindex="-1">æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜ <a class="header-anchor" href="#æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜" aria-label="Permalink to &quot;æ„å»ºå·¥å…·çš„å…¼å®¹éš¾é¢˜&quot;">â€‹</a></h3><p>æµè§ˆå™¨å…¼å®¹ &amp; æŠ€æœ¯å€ºåŠ¡</p><ul><li>IE 11 =&gt; Retail</li><li>Dynamic Import</li><li>Node.js Polyfills &amp; Shims</li></ul><h2 id="å‡å°‘-node-ä¾èµ–" tabindex="-1">å‡å°‘ Node ä¾èµ– <a class="header-anchor" href="#å‡å°‘-node-ä¾èµ–" aria-label="Permalink to &quot;å‡å°‘ Node ä¾èµ–&quot;">â€‹</a></h2><p>æŠ¹å¹³å·®è·</p><ul><li>Defineï¼šç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢</li><li>Mock / Shamï¼šæ— å®é™…åŠŸèƒ½çš„æ¨¡æ‹Ÿï¼Œå¦‚ fs</li><li>Shim / Polyfillï¼šæ¨¡æ‹Ÿå®Œæ•´åŠŸèƒ½ï¼Œå¦‚ path</li></ul><p>ç”¨ globalThis ä»£æ›¿ global/window</p><h2 id="jsx" tabindex="-1">JSX <a class="header-anchor" href="#jsx" aria-label="Permalink to &quot;JSX&quot;">â€‹</a></h2><p><img src="/assets/from-template-to-render-function.veONMmrq.png" alt="From Template to Render Function"></p><p>åˆ©ç”¨ Babel èµ‹äºˆçš„ç¼–è¯‘èƒ½åŠ›ï¼Œå®ç°æ¨¡æ¿ä¸ JSX è·¨è¯­è¨€è”åŠ¨ï¼Œä»¥ç”¨æˆ·çš„éœ€æ±‚ä¸ºæŠ“æ‰‹ï¼Œæ‘¸ç´¢å‡ºä¸€å¥—é€‚ç”¨äº Vue çš„ JSX æ–¹æ³•è®ºï¼Œæ‰“é€  Vue ç”Ÿæ€é—­ç¯ï¼Œåˆ©ç”¨ TypeScript çš„ç±»å‹æç¤ºï¼Œä¸ºæ›´ä¹ æƒ¯äº JSX çš„å¼€å‘è€…èµ‹èƒ½ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx" tabindex="-1">ä»€ä¹ˆæ˜¯â€œçœŸæ­£çš„â€JSX <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-çœŸæ­£çš„-jsx" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯â€œçœŸæ­£çš„â€JSX&quot;">â€‹</a></h3><p>JSX æœ€æ—©ç”± Facebook èµ·è‰ï¼Œç”¨äº Reactï¼Œä½†ä¸æ˜¯ tc39 çš„è§„èŒƒï¼Œå› æ­¤æµè§ˆå™¨ä¸ä¼šç›´æ¥å®ç°ã€‚JSX éœ€è¦ç”±ç¼–è¯‘å™¨å’Œæ¡†æ¶æ¥&quot;èµ‹èƒ½&quot;ï¼Œä»¥ä¸‹åˆ—ä»£ç ä¸ºä¾‹ï¼š</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello, world!&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>ç»è¿‡ç¼–è¯‘åï¼ˆé€šè¿‡ Babel, ts ç­‰å·¥å…·è½¬æ¢ ASTï¼‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createVNode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _createVNode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_createVNode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;h1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello, world!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="ç¼ºç‚¹" tabindex="-1">ç¼ºç‚¹ <a class="header-anchor" href="#ç¼ºç‚¹" aria-label="Permalink to &quot;ç¼ºç‚¹&quot;">â€‹</a></h3><ol><li><p><strong>é¢å¤–çš„è¿è¡Œæ—¶</strong>ï¼šJSX æ— æ³•åˆ¤æ–­ slot æˆ– childrenï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶åˆ¤æ–­</p></li><li><p><strong>ä¿¡æ¯ä¸è¶³</strong>ï¼šJSX è¯­æ³•è‡ªç”±çš„ä»£ä»·å°±æ˜¯éš¾ä»¥å®ç°é™æ€åˆ†æï¼Œç¼–è¯‘ä¿¡æ¯è¾ƒå°‘ï¼ŒVue3 å¼•å…¥çš„<code>PatchFlags</code>æ— æ³•å®Œå…¨åšåˆ°ï¼Œå¯¼è‡´ JSX ç¼–è¯‘åçš„ <code>Render Function</code> æ€§èƒ½å·®ä¸€äº›</p></li></ol><h2 id="composition-api" tabindex="-1">Composition API <a class="header-anchor" href="#composition-api" aria-label="Permalink to &quot;Composition API&quot;">â€‹</a></h2><blockquote><p>PPT: <a href="https://talks.antfu.me/2021/vueconf-china" target="_blank" rel="noreferrer">https://talks.antfu.me/2021/vueconf-china</a></p></blockquote><h3 id="ä¸ºä»€ä¹ˆè¦ç»„åˆå¼" tabindex="-1">ä¸ºä»€ä¹ˆè¦ç»„åˆå¼ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦ç»„åˆå¼" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆè¦ç»„åˆå¼ï¼Ÿ&quot;">â€‹</a></h3><ul><li><p>å¯¹è±¡å¼å˜é‡æ¥æºä¸æ˜ç¡®</p></li><li><p>Type è¡¥å…¨å¤æ‚</p></li></ul><h3 id="ä»€ä¹ˆæ˜¯ç»„åˆå¼" tabindex="-1">ä»€ä¹ˆæ˜¯ç»„åˆå¼ï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç»„åˆå¼" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ç»„åˆå¼ï¼Ÿ&quot;">â€‹</a></h3><ul><li><p>å¯å¤ç”¨é€»è¾‘çš„ç»„åˆï¼Œå…¶ä¸­æ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨</p></li><li><p>ä¸“æ³¨ç‚¹åˆ†ç¦»</p></li></ul><p><img src="/assets/composable-dependency-graph.U1I3-Gsz.png" alt="Composable Dependency Graph"></p><h3 id="reactive" tabindex="-1">Reactive <a class="header-anchor" href="#reactive" aria-label="Permalink to &quot;Reactive&quot;">â€‹</a></h3><p>ä¸åŒäº Reactï¼ŒVue çš„ <code>Setup()</code> åªä¼šåœ¨ç»„ä»¶å»ºç«‹æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨æ­¤æœŸé—´ä¼šå»ºç«‹èµ·æ•°æ®ä¸é€»è¾‘ä¹‹é—´çš„è¿ç»“ã€‚</p><ul><li>å»ºç«‹è¾“å…¥ â†’ è¾“å‡ºçš„è¿ç»“</li><li>è¾“å‡ºä¼šæ ¹æ®è¾“å…¥çš„æ”¹å˜è€Œæ”¹å˜ï¼ˆå°±åƒä½ çš„ Excel ä¸€æ · ğŸ‰ï¼‰</li></ul><p><img src="/assets/reactive-like-excel.hU3NQOf1.png" alt="Reactive Like Excel"></p><h3 id="best-practices" tabindex="-1">Best practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best practices&quot;">â€‹</a></h3><ul><li><p>ä¼˜å…ˆä½¿ç”¨ <code>ref</code> è€Œä¸æ˜¯ <code>reactive</code></p><ul><li><p>æ˜¾ç¤ºè°ƒç”¨ï¼Œç±»å‹æ£€æŸ¥</p></li><li><p>ç›¸æ¯” Reactive å±€é™æ›´å°‘ï¼š<code>reactive </code>æœ‰ç±»å‹ï¼Œæ— æ³•è§£æ„â€¦â€¦</p></li></ul></li><li><p>Ref è‡ªåŠ¨è§£åŒ…</p><ul><li><p><code>watch</code> ç›´æ¥æ¥æ”¶ Ref ï¼Œå›è°ƒä¸­ä¼šè‡ªåŠ¨è§£åŒ…</p></li><li><p>Ref åœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…</p></li><li><p>ä½¿ç”¨ <code>reactive</code> è§£åŒ…åµŒå¥— <code>ref</code>ï¼Œç”¨æ¥ä»£æ›¿ <code>toRef</code></p></li></ul></li><li><p><code>unref</code> API</p><ul><li><p><code>unref(a) =&gt; isRef(a) ? a.value : a</code></p></li><li><p>æ¥æ”¶ Ref ä½œä¸ºå‡½æ•°å‚æ•° <code>(a, b) =&gt; unref(a) + unref(b)</code></p></li></ul></li><li><p><code>type MaybeRef&lt;T&gt; = Ref&lt;T&gt; | T </code></p></li><li><p>é‡å¤ä½¿ç”¨ refï¼Œ<code>ref </code>ä¼šè‡ªåŠ¨è§£åŒ…çš„ï¼</p><ul><li><code>newRef = isRef(foo) ? foo : ref(foo)</code>å’Œ<code>newRef = ref(foo)</code> ä¸€æ ·çš„</li></ul></li><li><p>å‰¯ä½œç”¨è‡ªåŠ¨æ¸…é™¤</p><ul><li><p>ç»„ä»¶å†…çš„ <code>watch</code> å’Œ <code>computed</code> ä¼šåœ¨é”€æ¯æ—¶è‡ªåŠ¨æ¸…é™¤</p></li><li><p>Vue 3.2: <code>effectScope</code></p></li></ul></li><li><p>ç±»å‹å®‰å…¨çš„ <code>Provide</code>/<code>Inject</code>ï¼š<code>InjectionKey&lt;T&gt;</code></p></li><li><p>çŠ¶æ€å…±äº«</p><ul><li><p>ç›´æ¥ç”¨ Composition API æŠŠçŠ¶æ€æŠ½ç¦»</p></li><li><p>ä½¿ç”¨ <code>provide</code>/<code>inject</code> æ¥å…±äº«åº”ç”¨å±‚é¢çš„çŠ¶æ€</p></li></ul></li><li><p>å°æŠ€å·§ï¼š<code>useVModel</code></p></li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useVModel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> emit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> getCurrentInstance.emit</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> props[name]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`update${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>Vue Demi: ä¸€å¥—ä»£ç ï¼ŒåŒæ—¶é€‚ç”¨ Vue 2 å’Œ Vue 3</li></ul><h2 id="vue-çš„-flutter-å®è·µ" tabindex="-1">Vue çš„ Flutter å®è·µ <a class="header-anchor" href="#vue-çš„-flutter-å®è·µ" aria-label="Permalink to &quot;Vue çš„ Flutter å®è·µ&quot;">â€‹</a></h2><ul><li>ç§»åŠ¨ç«¯æŠ€æœ¯æ ˆæ¼”å˜ï¼šWebView -&gt; Hybrid -&gt; RN -&gt; Flutter</li></ul><p><img src="/assets/kraken-intro.AeBoVfGU.png" alt="Kraken Intro"></p><p><img src="/assets/kraken-diff-tech.h8MoeSWV.png" alt="Kraken Diff Tech"></p></div></div></article><div class="px-10 flex flex-col items-end"><div class="my-2 font-bold">Zexin Yuan</div><div class="text-sm" title="2021-05-22T00:00:00.000Z">2021-5-22</div></div><div class="w-full px-10 my-8 flex flex-col text-gray-600"><div class="my-4 border-t"></div><div class="flex justify-between my-4"><!--[--><!--[--><div class="navigator__prev border-b border-transparent cursor-pointer overflow-hidden whitespace-nowrap text-ellipsis transition-colors hover:border-primary-500 hover:text-primary-500">è‡ªåº•å‘ä¸Šçš„è¯­æ³•åˆ†æ</div><!--]--><!--[--><div class="navigator__next border-b border-transparent cursor-pointer overflow-hidden whitespace-nowrap text-ellipsis transition-colors hover:border-primary-500 hover:text-primary-500">Rust ä¸ Ownership</div><!--]--><!--]--></div></div><!--]--></main><aside class="layout__sub"><!--[--><section class="siderbar"></section><!--]--></aside><aside class="layout__extra"><!--[--><section class="sticky top-12 p-4 mr-8"><!--[--><h3 class="pb-1 font-bold">On this page</h3><ul><!--[--><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300 catalog__item--expand"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">Vue Conf 21</a><ul class="pl-4"><!--[--><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">Vite</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">ç¼–è¯‘ä¼˜åŒ–æ€è·¯</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">Element3</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">æ–°ä¸€ä»£æ„å»ºå·¥å…·</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">å‡å°‘ Node ä¾èµ–</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">JSX</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">Composition API</a><!----></li><li class="catalog__item p-1 pl-2 border-l transition-colors duration-300"><a class="catalog__link text-gray-500 hover:text-primary-500 cursor-pointer transition-colors duration-300">Vue çš„ Flutter å®è·µ</a><!----></li><!--]--></ul></li><!--]--></ul><!--]--></section><!--]--></aside><header class="layout__header"><!--[--><div class="header relative h-full flex flex-col justify-center items-center px-16 overflow-hidden"><div class="flex flex-col items-start"><div class="z-30 min-w-max"><!--[--><a class="header__pill-link mr-2 px-3 py-1 border rounded-full cursor-pointer transition-colors duration-300" style="--pill-link-color:255 152 0;" title="vue">vue</a><a class="header__pill-link mr-2 px-3 py-1 border rounded-full cursor-pointer transition-colors duration-300" style="--pill-link-color:205 220 57;" title="vueconf">vueconf</a><a class="header__pill-link mr-2 px-3 py-1 border rounded-full cursor-pointer transition-colors duration-300" style="--pill-link-color:255 87 34;" title="frontend">frontend</a><!--]--></div><h1 class="my-6 z-30 text-8xl font-medium">Vue Conf 21</h1></div><div class="text-sm"><span class="pr-2">åˆ†ç±»äº</span><!--[--><!--[--><span class="underline cursor-pointer transition-colors hover:text-primary-500" title="Computer Science">è®¡ç®—æœºç§‘å­¦</span><!--[--><span class="px-1">&gt;</span><!--[--><!--[--><span class="underline cursor-pointer transition-colors hover:text-primary-500" title="FrontEnd">FrontEnd</span><!--[--><span class="px-1">&gt;</span><!--[--><!--[--><span class="underline cursor-pointer transition-colors hover:text-primary-500" title="Vue">Vue</span><!----><!----><!--]--><!--]--><!--]--><!----><!--]--><!--]--><!--]--><!----><!--]--><!--]--></div><div class="text-sm"><span class="pr-2">æ›´æ–°äº</span><span title="2021-06-29T00:00:00.000Z">2021- 6-29</span></div></div><!--]--></header><footer class="layout__footer"><!--[--><div class="flex flex-col items-center m-4 py-4 text-gray-400 text-sm"><span>Copyright Â© 2019 â€“ 2023 Zexin Yuan</span><span>Powered by <a href="https://vitepress.dev/" target="_blank" class="underline">Vitepress</a> and <a href="https://github.com/yzx9/vitepress-theme-celesta" target="_blank" class="underline">Theme Celesta</a></span></div><!--]--></footer><nav class="layout__nav overflow-hidden z-50"><!--[--><div class="navbar absolute top-0 left-0 w-full flex justify-between z-50 transition-all"><!--[--><ul class="flex"><!--[--><li class="navbar__link-home navbar__link flex justify-center items-center transition-all font-medium"><a class="font-bold h-full px-4 align-middle cursor-pointer">ZEXIN YUAN&#39;S BLOG</a></li><!--]--></ul><ul class="flex"><!--[--><li class="navbar__link-archives navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">ARCHIVES</a></li><li class="navbar__link-categories navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">CATEGORIES</a></li><li class="navbar__link-tags navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">TAGS</a></li><li class="navbar__link-about navbar__link flex justify-center items-center transition-all font-medium"><a class="h-full px-4 align-middle cursor-pointer">ABOUT</a></li><!--]--></ul><!--]--></div><!--]--></nav><!----></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"readme.md\":\"mbF2uDUR\",\"drafts_error-handing-in-go.md\":\"e_J_JZHQ\",\"drafts_coffee_coffee-waves.md\":\"C91k905T\",\"drafts_coffee_from-seed-to-cup.md\":\"vmrH0GlB\",\"posts_2019_10_28_browser-rendering-process.md\":\"LhNNJCvf\",\"about.md\":\"aPvlBxvz\",\"drafts_coffee_coffee-process.md\":\"i83Vc9ZC\",\"posts_2021_02_15_how-to-read-a-book.md\":\"kOuB7oTn\",\"posts_2021_01_20_coffee.md\":\"38j7FIjD\",\"index.md\":\"DpYZUip9\",\"posts_2019_03_16_oauth2.md\":\"Rov4dQnq\",\"posts_2019_03_16_json-web-token.md\":\"gLhxUsWB\",\"posts_2021_01_02_huffman-tree.md\":\"7P1snOwv\",\"posts_2019_10_24_linear-list.md\":\"pudYwUv7\",\"posts_2021_01_02_avl-tree.md\":\"NBceW6Gl\",\"posts_2019_10_24_string.md\":\"w6r9Nrpv\",\"posts_2019_10_28_browser-same-origin-policy.md\":\"0_3klqaD\",\"posts_2021_01_01_instruction-fetch.md\":\"LH0lGhOG\",\"posts_2021_02_14_b-tree.md\":\"lHeyvYn1\",\"posts_2019_12_08_basic-grammar-of-typescript.md\":\"V9eVIisi\",\"posts_2021_01_02_tree-and-forest.md\":\"A3g01XYT\",\"posts_2019_12_08_note-for-vue2.md\":\"us3MNDJz\",\"posts_2019_10_24_sort.md\":\"dMaqW5x6\",\"posts_2020_12_31_binary-system.md\":\"UyttJv2m\",\"posts_2019_12_18_tcp-protocol.md\":\"TvXGLdLi\",\"drafts_coffee_coffee-cupping.md\":\"7eykArZU\",\"posts_2021_01_02_angularjs-git-commit-message-conventions.md\":\"rcQAwypz\",\"drafts_coffee_gold-cup-standard.md\":\"dUvdF4sg\",\"posts_2021_01_02_binary-sort-tree.md\":\"fKWwhbM1\",\"posts_2019_10_24_graph.md\":\"QfBRWa-7\",\"posts_2019_07_28_high-performance-web-sites-essential.md\":\"3CIlUx8h\",\"posts_2019_10_24_hash.md\":\"uGNMnxN2\",\"posts_2019_12_15_http-protocol.md\":\"OelWw86h\",\"posts_2021_03_10_implement-of-ll1-grammar.md\":\"iHCsV8Rq\",\"posts_2021_03_19_down-top-grammar-analysis.md\":\"gyDyNP4o\",\"posts_2021_06_29_learn-sql-in-10-minutes.md\":\"GNXPqG-P\",\"posts_2021_03_03_some-regular-grammar.md\":\"Ocnm__N7\",\"posts_2021_09_07_matrix-theory-1.md\":\"ZySr9T1w\",\"posts_2021_10_31_games101.md\":\"hTfkc6vX\",\"posts_2021_05_22_vue-conf-21.md\":\"uwOw46sw\",\"posts_2021_03_13_sdd-and-sdt.md\":\"wTqNj9wQ\",\"posts_2021_03_11_naming-for-clean-code.md\":\"l-BdEaMP\",\"posts_2021_06_19_rust-and-ownership.md\":\"bNgm5KjL\",\"posts_2021_02_26_regular-grammar-and-automata.md\":\"w1x80IYP\",\"posts_2022_04_02_pipeline-in-go.md\":\"xsVNoKSy\",\"posts_2021_12_14_games101-material.md\":\"vauHDbcG\",\"posts_2023_08_14_cns2023-s46.md\":\"iv1iuySn\",\"posts_2022_04_04_cancel-goroutine.md\":\"VRKnsS3d\",\"posts_2023_11_08_nervous-system.md\":\"fPfTx3Ve\",\"posts_2023_11_09_neuron.md\":\"QkTzGdZr\",\"posts_2023_12_10_neuron-electrical-activity.md\":\"j0mYRdko\",\"posts_2021_12_18_games101-animation-simulation.md\":\"bZBC0ELr\",\"posts_2021_03_16_is-it-an-ll1-grammar.md\":\"CoeCsr3L\",\"posts_2023_11_13_neuron-activity-principle.md\":\"B73r2cZt\",\"posts_2022_04_29_architectures-of-ddd.md\":\"I-3EEqYf\",\"posts_2021_03_11_clean-code.md\":\"vDzS8uan\",\"posts_2021_11_18_games101-geometry.md\":\"QGv74mZj\",\"posts_2021_02_16_propositional-calculus.md\":\"x0PQymIy\",\"posts_2021_11_13_games101-rasterization.md\":\"aT3JQKTI\",\"posts_2023_12_11_neurotransmitters-receptors.md\":\"EbqbbWSJ\",\"posts_2022_03_28_concurrency-tools-in-go.md\":\"Pvr26_dt\",\"posts_2021_12_16_games101-light-transport.md\":\"8g4qC8aJ\",\"posts_2021_11_30_games101-ray-tracing.md\":\"QXLupLAL\",\"posts_2021_03_08_top-down-grammar-parsing.md\":\"SA-Qg1ZO\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"ä¸­æ–‡\",\"lang\":\"zh\",\"title\":\"Zexin Yuan's blog\",\"description\":\"Technique && Life\",\"themeConfig\":{\"author\":\"Zexin Yuan\",\"tag\":{\"Computer Science\":\"è®¡ç®—æœºç§‘å­¦\",\"Computer Organization\":\"è®¡ç®—æœºç»„æˆ\",\"Computer Graphics\":\"è®¡ç®—æœºå›¾å½¢å­¦\",\"Data Structure\":\"æ•°æ®ç»“æ„\",\"Software Engineering\":\"è½¯ä»¶å·¥ç¨‹\",\"Architecture\":\"æ¶æ„\",\"Tree\":\"æ ‘\",\"Network\":\"è®¡ç®—æœºç½‘ç»œ\",\"Performance\":\"æ€§èƒ½\",\"Authorization\":\"è®¤è¯\",\"Front End\":\"å‰ç«¯\",\"Browser\":\"æµè§ˆå™¨\",\"Compiler\":\"ç¼–è¯‘åŸç†\",\"Grammar\":\"è¯­æ³•\",\"Automata\":\"è‡ªåŠ¨æœº\",\"Life\":\"æ—¥å¸¸\",\"Coffee\":\"å’–å•¡\",\"Course\":\"è¯¾ç¨‹\",\"Math\":\"æ•°å­¦\",\"Discrete Mathematical\":\"ç¦»æ•£æ•°å­¦\"},\"category\":{\"Computer Science\":\"è®¡ç®—æœºç§‘å­¦\",\"Computer Organization\":\"è®¡ç®—æœºç»„æˆ\",\"Computer Graphics\":\"è®¡ç®—æœºå›¾å½¢å­¦\",\"Data Structure\":\"æ•°æ®ç»“æ„\",\"Software Engineering\":\"è½¯ä»¶å·¥ç¨‹\",\"Architecture\":\"æ¶æ„\",\"Tree\":\"æ ‘\",\"Network\":\"è®¡ç®—æœºç½‘ç»œ\",\"Performance\":\"æ€§èƒ½\",\"Authorization\":\"è®¤è¯\",\"Front End\":\"å‰ç«¯\",\"Browser\":\"æµè§ˆå™¨\",\"Compiler\":\"ç¼–è¯‘åŸç†\",\"Grammar\":\"è¯­æ³•\",\"Automata\":\"è‡ªåŠ¨æœº\",\"Life\":\"æ—¥å¸¸\",\"Coffee\":\"å’–å•¡\",\"Course\":\"è¯¾ç¨‹\",\"Math\":\"æ•°å­¦\",\"Discrete Mathematical\":\"ç¦»æ•£æ•°å­¦\"}}}},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>